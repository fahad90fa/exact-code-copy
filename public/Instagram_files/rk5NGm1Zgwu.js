;/*FB_PKG_DELIM*/

__d("ErrorBrowserConsole",["fb-error"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("fb-error").ErrorBrowserConsole}),98);
__d("MAWBridge",["WABridge"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("WABridge").getBridge()}l.getBridge=e}),98);
__d("IIGDAPI",["MAWBridge"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o("MAWBridge").getBridge().sendAndReceive("backend","igdapi",{args:n,type:e})}}l.makeBridgedApi=e}),98);
__d("IGDBridgedAPI",["IIGDAPI"],(function(t,n,r,o,a,i,l){"use strict";var e,s={33:(e=o("IIGDAPI")).makeBridgedApi("33"),46:e.makeBridgedApi("46"),sendEditMessage:e.makeBridgedApi("sendEditMessage"),sendMediaMessage:e.makeBridgedApi("sendMediaMessage"),sendOrRemoveReaction:e.makeBridgedApi("sendOrRemoveReaction"),sendXmaReceiverFetch:e.makeBridgedApi("sendXmaReceiverFetch")},u=s;l.default=u}),98);
__d("IGDRouteProvider.react",["react","react-compiler-runtime","useCurrentRoute"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext;function m(e){var t,n=e==null||(t=e.params)==null?void 0:t.thread_key;return n!=null&&typeof n=="string"?n:null}var p=c();function _(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=r("useCurrentRoute")(),i;t[0]!==a?(i=m(a),t[0]=a,t[1]=i):i=t[1];var l=i,u;return t[2]!==n||t[3]!==l?(u=s.jsx(p.Provider,{value:l,children:n}),t[2]=n,t[3]=l,t[4]=u):u=t[4],u}function f(){return d(p)}l.IGDRouteContextProvider=_,l.useThreadKeyFromCurrentRoute=f}),98);
__d("MAWUnsafeCoerce",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}i.unsafeCoerce=e}),66);
__d("WAAssertUnreachable",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){throw r("err")("Impossible value, the default statement should never be reached for value: "+e)}l.default=e}),98);
__d("WAJids",["WAAssertUnreachable","err"],(function(t,n,r,o,a,i,l){"use strict";var e=0,s="@me",u="@system",c="status@broadcast",d="0@s.whatsapp.net",m="call",p="@g.us",_=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,f="@call",g="@msgr",h="msgr",y="@interop",C="interop",b=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,v=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,S=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,R=/^([1-9][0-9]{0,19})@msgr$/,L=/^([1-9][0-9]{0,19})(:0)?@msgr$/,E="@s.whatsapp.net",k="s.whatsapp.net",I="@s.whatsapp.net",T="s.whatsapp.net",D="lid",x="@newsletter",$=/^([1-9][0-9]{0,19})@newsletter$/,P=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,N=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,M="@lid",w="lid",A=/^([1-9][0-9]{0,14})@lid$/,F=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,O="@broadcast",B=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,W=/^([0-9a-fA-F]{18,32})@call$/,q="@hosted",U="hosted",V=/^(((?!10)[1-9][0-9]{4,19})):99@hosted$/,H="@hosted.lid",G="hosted.lid",z=/^([1-9][0-9]{0,14}):99@hosted.lid$/,j="@bot",K=/^[1-9][0-9]{0,19}(:0)?@bot$/,Q="16505361212"+I,X=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function Y(e){return""+e+I}function J(e){return""+e+M}function Z(e){return""+e+g}function ee(e){return e.endsWith(p)?e:""+e+p}function te(e){return e.endsWith(x)?e:""+e+x}function ne(e){return e.endsWith(q)?e:""+e+q}function re(e){return e.endsWith(H)?e:""+e+H}function oe(){return p}function ae(e){if(e.endsWith(I))return e.slice(0,-I.length);if(e.endsWith(g))return e.slice(0,-g.length);if(e.endsWith(y))return e.slice(0,-y.length);if(e.endsWith(M))return e.slice(0,-M.length);if(e.endsWith(j))return e.slice(0,-j.length);throw r("err")('userIdFromJid called with non-user jid "'+e+'"')}function ie(e,t){return ae(e)+":"+t+I}function le(e,t){return ae(e)+":"+t+g}function se(e,t){return Ee(e)+":"+t+M}function ue(e,t){return ae(e)+":"+t+Ct(e)}function ce(e){return""+e+O}function de(e){return e.split("@")[0]}function me(e){return e.split("@")[0]}function pe(e){var t=e.split("@")[0],n=t.split(":"),r=n[0],o=n[1],a=parseInt(o,10);return{userId:r,deviceID:a}}function _e(e){var t=pe(e);return t.deviceID}function fe(e,t){return e===s||e===u?t:de(e)}function ge(e){return e===s||e===u?null:e}function he(e){return e===s||e===u||!e.endsWith(I)?null:e}function ye(e){if(!e.endsWith(I))throw r("err")('phoneNumberFromJid called with non-user jid "'+e+'"');return e.slice(0,-I.length)}function Ce(e){if(e.endsWith(I))return ye(e);if(e.endsWith(M))return Ee(e);throw r("err")('lidOrPhoneFromUserJid called with non phone or lid jid "'+e+'"')}function be(e){return e.endsWith(I)||e.endsWith(y)||e.endsWith(g)||e.endsWith(M)?e:null}function ve(e){return e.endsWith(I)?e:null}function Se(e){return e===c?null:e}function Re(e){return e===c?null:e}function Le(e){return e===c?c:null}function Ee(e){if(!e.endsWith(M))throw r("err")('lidFromLidUserJid called with non-LidUserJid "'+e+'"');return e.slice(0,-M.length)}function ke(e){var t=e.split("@"),n=t[0],r=t[1];return n=n.split(":")[0],n=n.split(".")[0],r===U&&(r=T),r===G&&(r=D),n+"@"+r}function Ie(e){return ke(e)}function Te(e){return ke(e)}function De(e){return e.jidType==="phoneDevice"||e.jidType==="interopDevice"||e.jidType==="lidDevice"||e.jidType==="msgrDevice"?e.deviceJid:e.jidType==="lidUser"||e.jidType==="interopUser"||e.jidType==="msgrUser"||e.jidType==="phoneUser"?e.userJid:e.jidType==="group"?e.groupJid:e.jidType==="status"?e.statusJid:e.jidType==="call"?e.callJid:e.jidType==="newsletter"?e.newsletterJid:e.jidType==="hosted"?e.hostedDeviceJid:e.jidType==="hostedLid"?e.hostedLidDeviceJid:e.jidType==="bot"?e.botJid:(e.jidType,e.broadcastJid)}function xe(t){return ae(t)+":"+e+I}function $e(t){return ae(t)+":"+e+g}function Pe(t){return se(t,e)}function Ne(t){return _e(t)===e}function Me(e){return e}function we(e){return e}function Ae(e){var t=e.split("@"),n=t[0],r=t[1],o=n.split(":"),a=o[0],i=o[1],l=a.split("."),s=l[0],u=l[1];return{user:s,device:i,agent:u,server:r}}function Fe(e){var t=Ae(e),n=t.user,r=t.agent,o=r===void 0?"0":r,a=t.device,i=a===void 0?"0":a,l=t.server;return n+"."+o+":"+i+"@"+l}function Oe(e){switch(e.jidType){case"interopUser":return e.userJid;case"lidUser":return e.userJid;case"msgrUser":return e.userJid;case"phoneUser":return e.userJid;case"group":return e.groupJid;case"status":return e.statusJid;case"interopDevice":return e.deviceJid;case"lidDevice":return e.deviceJid;case"msgrDevice":return e.deviceJid;case"phoneDevice":return e.deviceJid;case"broadcast":return e.broadcastJid;case"call":return e.callJid;case"newsletter":return e.newsletterJid;case"hosted":return e.hostedDeviceJid;case"hostedLid":return e.hostedLidDeviceJid;case"bot":return e.botJid;default:return r("WAAssertUnreachable")(e.jidType)}}function Be(e){if(e===m)return{jidType:"call",callJid:m};if(e===c)return{jidType:"status",statusJid:c};if(N.test(e))return{jidType:"phoneUser",userJid:e};if(v.test(e))return{jidType:"interopUser",userJid:e};if(R.test(e))return{jidType:"msgrUser",userJid:e};if(L.test(e)){var t=e.substr(0,e.indexOf(":"));return{jidType:"msgrUser",userJid:Z(t)}}else return P.test(e)?{jidType:"phoneDevice",deviceJid:e}:b.test(e)?{jidType:"interopDevice",deviceJid:e}:S.test(e)?{jidType:"msgrDevice",deviceJid:e}:_.test(e)?{jidType:"group",groupJid:e.endsWith(p)?e:""+e+p}:B.test(e)?{jidType:"broadcast",broadcastJid:e}:W.test(e)?{jidType:"call",callJid:e}:A.test(e)?{jidType:"lidUser",userJid:e}:F.test(e)?{jidType:"lidDevice",deviceJid:e}:$.test(e)?{jidType:"newsletter",newsletterJid:e}:V.test(e)?{jidType:"hosted",hostedDeviceJid:e}:z.test(e)?{jidType:"hostedLid",hostedLidDeviceJid:e}:K.test(e)?{jidType:"bot",botJid:e}:{jidType:"unknown"}}function We(e){return e==="status@broadcast"?e:null}function qe(e){if(N.test(e)||v.test(e)||R.test(e)||A.test(e))return e;if(L.test(e)){var t=e.substr(0,e.indexOf(":"));return Z(t)}else return null}function Ue(e){return A.test(e)?e:null}function Ve(e){return B.test(e)?e:null}function He(e){return P.test(e)||S.test(e)||b.test(e)||F.test(e)||V.test(e)||z.test(e)?e:N.test(e)?bt(e):K.test(e)?vt(e):null}function Ge(e){return b.test(e)?e:null}function ze(e){return _.test(e)?e:null}function je(e){return We(e)||ze(e)||Ve(e)?e:null}function Ke(e){return W.test(e)?e:null}function Qe(e){return e==="s.whatsapp.net"||e==="g.us"||e==="call"?e:null}function Xe(e){return qe(e)||ze(e)}function Ye(e){return $.test(e)?e:null}function Je(e){return V.test(e)?e:null}function Ze(e){return z.test(e)?e:null}function et(e){return be(e)==null?e:null}function tt(e){var t=Ae(e),n=t.user,r=t.device,o=r===void 0?"0":r,a=t.server;return n+":"+o+"@"+a}function nt(e){if(e.endsWith(p))return e.slice(0,-p.length);throw r("err")('groupId called with non-group jid "'+e+'"')}function rt(e){var t=Be(e);return t.jidType==="unknown"?e:t.jidType==="status"?t.statusJid:(t.jidType,Oe(t).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3"))}function ot(e){return e.includes("@")?e.replace(X,rt):e}function at(e){return e.endsWith(p)?e:null}function it(e,t){if(e.endsWith(I))return t.phoneUser(e);if(e.endsWith(g))return t.msgrUser(e);if(e.endsWith(y))return t.interopUser(e);if(e.endsWith(M))return t.lidUser(e);if(at(e)!=null)return t.group(e);throw r("err")("Can not switch on chat jid "+e)}function lt(e,t){if(e.endsWith(g))return t.user(e);if(at(e)!=null)return t.group(e);throw r("err")("Can not switch on chat jid "+e)}function st(e,t){if(e.endsWith(I))return t.user(e);if(at(e)!=null)return t.group(e);throw r("err")("Can not switch on chat jid "+e)}function ut(e,t){return it(e,{lidUser:function(n){return t.user(n)},interopUser:function(n){return t.user(n)},msgrUser:function(n){return t.user(n)},phoneUser:function(n){return t.user(n)},group:function(n){return t.group(n)}})}function ct(e,t){return e===c?t.status():st(e,{user:t.user,group:t.group})}function dt(e,t){return e===c?t.status():it(e,{interopUser:t.interopUser,phoneUser:t.phoneUser,msgrUser:t.msgrUser,lidUser:t.lidUser,group:t.group})}function mt(e,t){return e===c?t.multicast(c):st(e,{user:t.user,group:t.multicast})}function pt(e){return e.endsWith(M)}function _t(e){return e==="@me"}function ft(e){return e==="@system"}function gt(){return g}function ht(){return I}function yt(){return E}function Ct(e){if(e.endsWith(I))return I;if(e.endsWith(g))return g;if(e.endsWith(M))return M;if(e.endsWith(j))return j;throw r("err")('userDomainFromJid called with non-user jid "'+e+'"')}function bt(t){return ae(t)+":"+e+Ct(t)}function vt(e){return""+ae(e)+Ct(e)}function St(e){var t=e.platform,n=t==="msgr"?g:I;function r(e){return""+e+n}function o(){return n}return{toUserJid:r,getUserDomain:o}}function Rt(e){return e}function Lt(e){return e}function Et(e){return e}function kt(e){return e}function It(e){return e}function Tt(e){return e}function Dt(e){return e}function xt(e){return e}function $t(e){return e}function Pt(e){return e}function Nt(e){return e}function Mt(e){return e}function wt(e){return e}function At(e){return e}function Ft(e){return e}function Ot(e){return e}function Bt(e){return it(e,{group:function(t){return nt(t)},lidUser:function(t){return ae(t)},interopUser:function(t){return ae(t)},phoneUser:function(t){return ae(t)},msgrUser:function(t){return ae(t)}})}function Wt(){return f}l.DEFAULT_DEVICE_ID=e,l.AUTHOR_ME=s,l.AUTHOR_SYSTEM=u,l.STATUS_JID=c,l.PSA_JID=d,l.CALL_LINK_JID=m,l.MSGR_USER_DOMAIN=g,l.MSGR_USER_JID_SUFFIX=h,l.INTEROP_DOMAIN=y,l.INTEROP_USER_JID_SUFFIX=C,l.WA_SERVER_JID_SUFFIX=k,l.WA_USER_DOMAIN=I,l.WA_USER_JID_SUFFIX=T,l.WA_LID_SUFFIX=D,l.WA_NEWSLETTER_JID_DOMAIN=x,l.LID_DOMAIN=M,l.LID_SUFFIX=w,l.HOSTED_DOMAIN=q,l.HOSTED_SUFFIX=U,l.HOSTED_LID_DOMAIN=H,l.HOSTED_LID_SUFFIX=G,l.BOT_DOMAIN=j,l.SURVEY_USER_JID=Q,l.toPhoneUserJid=Y,l.toLidUserJid=J,l.toMsgrUserJid=Z,l.toGroupJid=ee,l.toNewsletterJid=te,l.toHostedDeviceJid=ne,l.toHostedLidDeviceJid=re,l.getGroupDomain=oe,l.userIdFromJid=ae,l.toPhoneDeviceJid=ie,l.toMsgrDeviceJid=le,l.toLidDeviceJid=se,l.toDeviceJid=ue,l.toBroadcastJid=ce,l.extractUserId=de,l.extractChatId__DANGEROUS=me,l.extractDeviceIDParts=pe,l.extractDeviceId=_e,l.authorToUserId=fe,l.authorAsUserJid=ge,l.authorAsPhoneUserJid=he,l.phoneNumberFromJid=ye,l.lidOrPhoneFromUserJid=Ce,l.interpretAsUserJid=be,l.interpretAsPhoneUserJid=ve,l.asChatJid=Se,l.asPhoneChatJid=Re,l.asStatusJid=Le,l.lidFromLidUserJid=Ee,l.extractUserJid=ke,l.extractPhoneUserJid=Ie,l.extractLidUserJid=Te,l.extractJidFromJidWithType=De,l.defaultPhoneDeviceJidForUser=xe,l.defaultMsgrDeviceJidForUser=$e,l.defaultLidDeviceJidForLidUserJid=Pe,l.isPrimaryDevice=Ne,l.interpretAsDeviceId=Me,l.interpretAsNumber=we,l.parseJidParts=Ae,l.fullFormDeviceJidString=Fe,l.extractFromJid=Oe,l.interpretAndValidateJid=Be,l.validateStatusJid=We,l.validateUserJid=qe,l.validateLidUserJid=Ue,l.validateBroadcastJid=Ve,l.validateDeviceJid=He,l.validateInteropDeviceJid=Ge,l.validateGroupJid=ze,l.validateMulticastJid=je,l.validateCallJid=Ke,l.validateDomainJid=Qe,l.validateChatJid=Xe,l.validateNewsletterJid=Ye,l.validateHostedDeviceJid=Je,l.validateHostedLidDeviceJid=Ze,l.asMulticastJid=et,l.stripAgentIdFromPhoneDeviceJid=tt,l.groupIdFromJid=nt,l.sanitizeJidForLogging=rt,l.maybeSanitizeLogLineText=ot,l.interpretAsGroupJid=at,l.switchOnChatJidType=it,l.switchOnMsgrChatJidType=lt,l.switchOnPhoneChatJidType=st,l.switchOnUserChatJidType=ut,l.switchOnPhoneJidType=ct,l.switchOnJidType=dt,l.switchOnMulticastJidType=mt,l.isLidUser=pt,l.isAuthorMe=_t,l.isAuthorSystem=ft,l.getMsgrUserDomain=gt,l.getWhatsappUserDomain=ht,l.getServerDomain=yt,l.defaultDeviceJidForUser=bt,l.defaultDeviceJidForBot=vt,l.createJidUtils=St,l.unsafeCoerceToChatJid=Rt,l.unsafeCoerceToDeviceJid=Lt,l.unsafeCoerceToPhoneDeviceJid=Et,l.unsafeCoerceToMsgrDeviceJid=kt,l.unsafeCoerceToInteropDeviceJid=It,l.unsafeCoerceToLidDeviceJid=Tt,l.unsafeCoerceToUserJid=Dt,l.unsafeCoerceToLidUserJid=xt,l.unsafeCoerceToPhoneUserJid=$t,l.unsafeCoerceToInteropUserJid=Pt,l.unsafeCoerceToMsgrUserJid=Nt,l.unsafeCoerceToGroupJid=Mt,l.unsafeCoerceToDeviceId=wt,l.unsafeCoerceToNewsletterJid=At,l.unsafeCoerceToHostedDeviceJid=Ft,l.unsafeCoerceToHostedLidDeviceJid=Ot,l.threadIdForChatJid=Bt,l.getGroupCallDomain=Wt}),98);
__d("InstamadilloMessageIdUtils",["FBLogger","I64","MAWUnsafeCoerce","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var r;return(e||(e=o("I64"))).isI64(t)?r=(e||(e=o("I64"))).to_string(t):r=t,r+":"+n}function u(e){var t=e.split(":");if(t.length!==2)throw r("FBLogger")("igd_web").mustfixThrow("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>.");return{stanzaId:t[1],threadKey:t[0]}}function c(e){var t=e.split(":");return t.length!==2?(r("FBLogger")("igd_web").warn("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>."),null):{stanzaId:t[1],threadKey:t[0]}}function d(e){var t=e.message.decrypted.id;return m(t)}function m(e){var t=e.externalId,n=o("WAJids").threadIdForChatJid(e.chat);return s(n,t)}function p(t,n,r){return{author:o("WAJids").toMsgrUserJid(r),chat:o("WAJids").toMsgrUserJid((e||(e=o("I64"))).to_string(t)),externalId:o("MAWUnsafeCoerce").unsafeCoerce(n)}}l.toInstamadilloMessageId=s,l.fromInstamadilloMessageId=u,l.maybeFromInstamadilloMessageId=c,l.getInstamadilloMessageIdFromStanza=d,l.getInstamadilloMessageIdFromProtocolMsgId=m,l.toProtocolMsgId=p}),98);
__d("LSDatascriptRuntimeTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["UI","BROKER"]);i.TopLevelCallOrigin=e}),66);
__d("LSClientDependencies",[],(function(t,n,r,o,a,i){}),null);
__d("LSDynamicDependencies",["Bootloader","LSDynamicDependenciesEventEmitter","ODS","Promise","SiteData","asyncToGeneratorRuntime","clearTimeout","cr:19620","err","justknobx","nullthrows","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=babelHelpers.extends({},n("cr:19620"));function c(e){Object.assign(u,e)}var d={_tombstone:!0};function m(t){var a=new Map;for(var i of t){var l=i.name;l!=null&&!f(l)&&a.set(l,r("nullthrows")(i.value))}if(a.size===0)return(s||(s=n("Promise"))).resolve();var c=new(s||(s=n("Promise")))(function(t){var i={},l=[],s=function(){var t=d[0],r=d[1],a=r==null?void 0:r.__dr;i[a]={be:1,r:[]},l.push(a),(e||(e=o("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",a),u[t]={load:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield c,u[t]});function r(){return e.apply(this,arguments)}return r})()}};for(var d of a)s();r("Bootloader").handlePayload({compMap:i,consistency:{rev:r("SiteData").client_revision}}),p(r("Bootloader"),l,function(e){Array.from(a.entries()).forEach(function(t,n){var r=t[0],o=t[1];u[r]=e[n]}),t()})});return c}function p(e,t,n){return e.loadModules.call(e,t,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(t)})}function _(e){return e.charAt(0).toUpperCase()+e.slice(1)}function f(e){return e in u&&u[e]!==d}var g=r("justknobx")._("2800");function h(t,a,i){var l=new Map;for(var c of t!=null?t:[])f(c)||l.set(c,"LS"+_(c));for(var m of a!=null?a:[])f(m+".bs")?m+".nop"in u||l.set(m+".nop","LS"+_(m)+".nop"):l.set(m+".bs","LS"+_(m)+".nop");for(var h of i!=null?i:[])h in u||l.set(h,"LS"+_(h));if(l.size===0)return(s||(s=n("Promise"))).resolve();var y=new(s||(s=n("Promise")))(function(t,a){var i={},s=[],c=function(){var t=m[0],r=m[1];(e||(e=o("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",r),o("LSDynamicDependenciesEventEmitter").emitLoadModuleEvent(r),i[r]={be:1,r:[]},s.push(r),u[t]={load:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield y}catch(e){throw u[t]=d,e}return u[t]});function r(){return e.apply(this,arguments)}return r})()}};for(var m of l)c();r("Bootloader").handlePayload({compMap:i,consistency:{rev:r("SiteData").client_revision}});var _=p(r("Bootloader"),s,function(e){r("clearTimeout")(f),Array.from(l.entries()).forEach(function(t,n){var r=t[0],o=t[1];u[r]=e[n]}),t()}),f=r("setTimeout")(function(){_.remove();var e=r("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",g,Array.from(l.keys()));e.name="dynamic_sproc_loading_timeout",a(e)},g)});return y}l.cachedModules=u,l.addToCachedModules=c,l.TOMBSTONE=d,l.downloadRelayDependencies=m,l.downloadBootloaderDependencies=h}),98);
__d("XPlatReactCrypto",["err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=self.crypto)==null?void 0:e.subtle;function u(e){var t;if(typeof((t=self.crypto)==null?void 0:t.getRandomValues)!="function")throw r("err")("crypto.getRandomValues: Not implemented");return self.crypto.getRandomValues(e),e}function c(){var e;if(typeof((e=self.crypto)==null?void 0:e.randomUUID)!="function")return null;var t=self.crypto.randomUUID();return typeof t=="string"?t:null}function d(e,t,n,o,a){if(s==null)throw r("err")("crypto.subtle.importKey: Not implemented");return s.importKey(e,t,n,o,a)}function m(e,t){if(s==null)throw r("err")("crypto.subtle.exportKey: Not implemented");return s.exportKey(e,t)}function p(e,t,n){if(s==null)throw r("err")("crypto.subtle.generateKey: Not implemented");return s.generateKey(e,t,n)}function _(e,t,n){if(s==null)throw r("err")("crypto.subtle.encrypt: Not implemented");return s.encrypt(e,t,n)}function f(e,t,n){if(s==null)throw r("err")("crypto.subtle.decrypt: Not implemented");return s.decrypt(e,t,n)}function g(e,t,n){if(s==null)throw r("err")("crypto.subtle.sign: Not implemented");return s.sign(e,t,n)}function h(e,t){if(s==null)throw r("err")("crypto.subtle.digest: Not implemented");return s.digest(e,t)}function y(e,t,n){if(s==null)throw r("err")("crypto.subtle.deriveBits: Not implemented");return s.deriveBits(e,t,n)}function C(e,t,n,o,a){if(s==null)throw r("err")("crypto.subtle.deriveKey: Not implemented");return s.deriveKey(e,t,n,o,a)}l.getRandomValues=u,l.randomUUID=c,l.subtleImportKey=d,l.subtleExportKey=m,l.subtleGenerateKey=p,l.subtleEncrypt=_,l.subtleDecrypt=f,l.subtleSign=g,l.subtleDigest=h,l.subtleDeriveBits=y,l.subtleDeriveKey=C}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(t,n,r,o,a,i,l){"use strict";var e,s={add:(e||(e=o("I64"))).add,and_:e.and_,asr_:e.asr_,cast:function(n){return(e||(e=o("I64"))).mk(n[1],n[0])},div:e.div,eq:function(n,r){return n==null&&r==null||n!=null&&r!=null&&(e||(e=o("I64"))).equal(n,r)},from_string:function(n){try{return(e||(e=o("I64"))).of_string(n)}catch(e){throw r("FBLogger")("messenger_web").mustfixThrow('Unable to cast "%s" to int64',n)}},ge:e.ge,gt:e.gt,le:e.le,lsl_:e.lsl_,lsr_:e.lsr_,lt:e.lt,max:e.max,min:e.min,mod_:e.mod_,mul:e.mul,neq:function(n,r){return n==null&&r!=null||n!=null&&r==null||n!=null&&r!=null&&!(e||(e=o("I64"))).equal(n,r)},of_float:e.of_float,of_int32:e.of_int32,or_:e.or_,random:function(){var t=Array.from(o("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));return t[0]>>>=1,(e||(e=o("I64"))).add(e.lsl_(e.of_float(t[0]),32),e.of_float(t[1]))},sub:e.sub,to_float:e.to_float,to_int32:e.to_int32,to_string:function(n){return n==null?n:(e||(e=o("I64"))).to_string(n)},xor:e.xor};l.default=s}),98);
__d("LSMaybeSyncIteration",["LSSynchronousPromise","isPromise"],(function(t,n,r,o,a,i,l){"use strict";var e,s={__val__:"__stop_iteration__"};function u(e){return{__val__:"__next_value__",next:e}}function c(e){return e!=null&&typeof e=="object"&&e.__val__==="__next_value__"}function d(t,n,a){for(var i=m(t,a);!(e||(e=r("isPromise")))(i);){if(i.done)return o("LSSynchronousPromise").makeSynchronousPromise(i);var l=o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(n(i));if((e||(e=r("isPromise")))(l))return l.then(function(e){if(e===s)return i;var r=c(e)?e.next:void 0;return d(t,n,r)});if(l===s)return o("LSSynchronousPromise").makeSynchronousPromise(i);var u=c(l)?l.next:void 0;i=m(t,u)}var _=p(n);return i.then(function(e){return e.done?e:_(e).then(function(r){if(r===s)return e;var o=c(r)?r.next:void 0;return d(t,n,o)})})}function m(t,n){var a=t.next(n);return(e||(e=r("isPromise")))(a)?o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a):a}function p(e){return function(t){var n=e(t);return o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(n)}}l.STOP_ITERATION=s,l.wrapNextValue=u,l.iteratorLoop=d}),98);
__d("LSIterationOperations",["I64","LSDict","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){var n;return n={},n[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return u(e,t)},n.next=function(){var n={done:!0},r=function(r){return o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(t(r.value.item)).then(function(e){if(e)return n=r,o("LSMaybeSyncIteration").STOP_ITERATION})};return o("LSMaybeSyncIteration").iteratorLoop(e,r).then(function(){return n})},n}function c(e,t,n){var r,a=0;return r={},r[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return c(e,t,n)},r.next=function(){if(a>=n)return o("LSSynchronousPromise").makeSynchronousPromise({done:!0});var r={done:!0},i=function(n){if(!(a++<t))return r=n,o("LSMaybeSyncIteration").STOP_ITERATION};return o("LSMaybeSyncIteration").iteratorLoop(e,i).then(function(){return r})},r}function d(e,t){return m(e).then(function(e){return e.reduce(function(e,n){return e.then(function(){return t(n)})},o("LSSynchronousPromise").makeSynchronousPromise(void 0))})}function m(e){var t=[],n=function(n){t.push(n.value)};return o("LSMaybeSyncIteration").iteratorLoop(e,n).then(function(){return t})}function p(t,n,r){var a;r===void 0&&(r=[]);var i={ASC:1,DESC:-1},l=function(r,a){for(var t=r.item,l=a.item,s=0;s<n.length;s++){var u=n[s],c=u[0],d=t[c],m=l[c],p=0;if(d==null&&m==null?p=0:d==null&&m!=null?p=-1:d!=null&&m==null?p=1:p=(e||(e=o("ReStoreKeyComparer"))).compareValue(d,m),p!==0)return p*i[n[s][1]]}return 0},s,u=[],c=[],d=function(t){for(var e=[],n=r.length-1;n>=0;n--)e.push(t[r[n]]);return e},m=function(){c=u,c.sort(l),u=[]};return a={},a[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return p(t,n,r)},a.next=function(){if(c.length)return o("LSSynchronousPromise").makeSynchronousPromise({done:!1,value:c.shift()});var n=function(n){var t=d(n.value.item);if(s!=null&&(e||(e=o("ReStoreKeyComparer"))).compareKey(s,t)!==0)return m(),u.push(n.value),s=t,o("LSMaybeSyncIteration").STOP_ITERATION;s=t,u.push(n.value)};return o("LSMaybeSyncIteration").iteratorLoop(t,n).then(function(){return!c.length&&u.length&&m(),c.length?{done:!1,value:c.shift()}:{done:!0}})},a}function _(e){var t=0,n=function(){t++};return o("LSMaybeSyncIteration").iteratorLoop(e,n).then(function(){return(s||(s=o("I64"))).of_int32(t)})}function f(e,t){return{forEach:function(a){return m(e).then(function(e){var n=e.reduce(function(e,n){var r=n.item[t],o=(e.get(r)||0)+1;return e.set(r,o)},new(r("LSDict"))),i=o("LSSynchronousPromise").makeSynchronousPromise(void 0),l=function(){var e=u[0],n=u[1];i=i.then(function(){var r;return a((r={},r[t]=e,r.group_count=(s||(s=o("I64"))).of_int32(n),r))})};for(var u of n.entries())l();return i})}}}l.filter=u,l.slice=c,l.forEach=d,l.toArray=m,l.sortBy=p,l.count=_,l.groupBy=f}),98);
__d("LSJson",["FBLogger","I64","LSDict","LSVec"],(function(t,n,r,o,a,i,l){"use strict";var e,s=512,u={useLSTypes:!1};function c(t,n){var a=n===void 0?u:n,i=a.useLSTypes;function l(e,t){return function(){return function(n){var r=e()(n);if(r!=null){var o=r[0],a=r[1];return[t(o),a]}}}}function s(e){return JSON.parse('"'+e+'"')}function c(e){return function(){return function(t){var n=s(e);if(t.startsWith(n))return[n,t.substr(n.length)]}}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(e){var n=[],r=e;for(var o of t){var a=o()(r);if(a==null)return;r=a[1],n.push(a[0])}return[n,r]}}}function m(e){return function(){return function(t){var n=e.exec(t);return n!=null?[n,t.substr(n[0].length)]:void 0}}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(e){for(var n of t){var r=n()(e);if(r!=null)return r}}}}function _(e){return function(){return function(t){var n=e()(t);return n!=null?n:[void 0,t]}}}function f(e){return function(){return function(t){for(var n=e()(t),r=[],o=t;n!=null;)o=n[1],r.push(n[0]),n=e()(o);return[r,o]}}}var g=m(/^[\n\r\s]*/),h=l(m(/^\"((?:[^\"\\]|\\.)*)\"/),function(e){var t=e[1];return s(t)}),y=l(m(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(e){var t=e[0];return Number(t)}),C=l(m(/^-?\d+/),function(t){var n=t[0];return(e||(e=o("I64"))).of_string(n)}),b=l(c("null"),function(e){return null}),v=l(c("true"),function(e){return!0}),S=l(c("false"),function(e){return!1}),R=l(d(g,h,g,c(":"),function(){return T()}),function(e){var t=e[1],n=e[4];return[t,n]}),L=l(d(R,f(d(g,c(","),R))),function(e){var t=e[0],n=e[1];return[t].concat(n.map(function(e){var t=e[2];return t}))}),E=l(d(c("{"),_(L),g,c("}")),function(e){var t=e[1],n=t===void 0?[]:t;return i?new(r("LSDict"))(n):Object.fromEntries(n)}),k=l(d(function(){return T()},f(d(g,c(","),function(){return T()}))),function(e){var t=e[0],n=e[1];return[t].concat(n.map(function(e){var t=e[2];return t}))}),I=l(d(c("["),g,_(k),g,c("]")),function(e){var t=e[2],n=t===void 0?[]:t;return i?r("LSVec").ofArray(n):n}),T=l(d(g,p(E,h,y,C,I,b,v,S),g),function(e){var t=e[1];return t}),D=T()(t);if(D==null)throw r("FBLogger")("messenger_web").mustfixThrow("error parsing string");if(D[1]!=="")throw r("FBLogger")("messenger_web").mustfixThrow("unexpected %s",D[1]);return D[0]}function d(t,n,a){if(n===void 0&&(n=0),a===void 0&&(a=""),n>s)throw r("FBLogger")("messenger_web").mustfixThrow("recursion limit exceeded");if(typeof t=="string"||typeof t=="number")return JSON.stringify(t);if(typeof t=="boolean")return t?"1":"0";if(t==null)return"null";if(typeof t=="object"){if(Array.isArray(t))return t.tag==="ls-array"?"["+t.map(function(e,t){return d(e,n+1,a+"/"+t.toString())}).join(",")+"]":(t._tag!=="i64"&&r("FBLogger")("messenger_web").warn("LSJson payload contains untagged i64: %s",a),(e||(e=o("I64"))).to_string(t));if(t instanceof r("LSDict"))return"{"+Array.from(t.entries()).map(function(e){var t=e[0],o=e[1];if(typeof t=="string")return JSON.stringify(t)+":"+d(o,n+1,a+"/"+t);throw r("FBLogger")("messenger_web").mustfixThrow("key must be a string")}).join(",")+"}"}throw r("FBLogger")("messenger_web").mustfixThrow("type not supported: %s, path: %s",t===null?"null":typeof t,a)}l.parse=c,l.stringify=d}),98);
__d("LSPendingTasksPluginType",[],(function(t,n,r,o,a,i){var e=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});i.default=e}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(t,n,r,o,a,i,l){"use strict";var e,s="4",u="16",c=new Set([r("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function d(t){var n=c.has((e||(e=o("I64"))).to_float(t.pluginType)),r=t.context===u||t.context===s;return n||r}l.default=d}),98);
__d("LSIterationHelpers",["FBLogger","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer","ReStoreVaulting","isNativeTask"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Set(["messages","attachments","reactions"]);function c(e){return u.has(e)}function d(e,t,n){return e&&t.name==="pending_tasks"&&n!=null&&r("isNativeTask")(n)}function m(e){for(var t of Object.keys(e))e[t]===void 0&&delete e[t];return e}function p(e,t,n){n===void 0&&(n="asc");var r=e.entries(new WeakMap,n);function a(){var e;return e={},e[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,e.next=function(){var e={done:!0},a=0,i="start",l=[],u=function(u){for(var r=function(){var e=a,r=t[e]||{},c=r.end,d=r.start,m=u.value[0];if(d&&i==="start"){var p=(s||(s=o("ReStoreKeyComparer"))).compareValue(m[e],d[0]),_=p*(n==="asc"?1:-1)<d[1];if(_){if(i="start_verify",l=m.slice(0,e),e===m.length-1&&p===0)return{v:void 0};var f=[].concat(l,[d[0]],d[1]&&n==="asc"||!d[1]&&n==="desc"?[(s||(s=o("ReStoreKeyComparer"))).MAX_KEY]:[]);return{v:o("LSMaybeSyncIteration").wrapNextValue(f)}}else i="check_end"}if(d&&i==="start_verify"&&!l.every(function(e,t){return(s||(s=o("ReStoreKeyComparer"))).compareValue(e,m[t])===0}))return a=0,i="start",{v:void 0};if(c&&(s||(s=o("ReStoreKeyComparer"))).compareValue(c[0],m[e])*(n==="asc"?1:-1)<c[1])return a=0,i="start",{v:o("LSMaybeSyncIteration").wrapNextValue([].concat(m.slice(0,e),n==="asc"?[(s||(s=o("ReStoreKeyComparer"))).MAX_KEY]:[]))};a++,i="start"},c;a<t.length;)if(c=r(),c)return c.v;return e=u,o("LSMaybeSyncIteration").STOP_ITERATION};return o("LSMaybeSyncIteration").iteratorLoop(r,u).then(function(){return e})},e}return a()}function _(e,t,n,o,a){return{delete:function(){return n.delete.apply(n,e)},item:t,update:function(l){var i=a&&c(o.name)?{transportKey:"FBBroker"}:{},s=babelHelpers.extends({},t,l,i);if(d(a,o,s))throw r("FBLogger")("messenger_web").mustfixThrow("cannot insert native task in dynamic mode");return n.upsert(e,m(s))}}}function f(e,t){var n;return n={},n[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return f(e,t)},n.next=function(){var n={done:!0},r=function(t){return n=t,o("LSMaybeSyncIteration").STOP_ITERATION};return o("LSMaybeSyncIteration").iteratorLoop(e,r).then(function(){if(n.done)return o("LSMaybeSyncIteration").iteratorLoop(t,r)}).then(function(){return n})},n}function g(e,t,n){var r,a=[{done:!0},{done:!0}],i=function(t){var e=a[t];return a[t]={done:!0},e};return r={},r[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return g(e,t,n)},r.next=function(){var r=function(t){return function(e){return t==="a"?a[0]=e:a[1]=e,o("LSMaybeSyncIteration").STOP_ITERATION}},l=o("LSSynchronousPromise").makeSynchronousPromise();return a[0].done&&(l=l.then(function(){return o("LSMaybeSyncIteration").iteratorLoop(e,r("a"))})),a[1].done&&(l=l.then(function(){return o("LSMaybeSyncIteration").iteratorLoop(t,r("b"))})),l.then(function(){if(a[0].done&&a[1].done)return{done:!0};if(a[0].done)return i(1);if(a[1].done)return i(0);var e=(s||(s=o("ReStoreKeyComparer"))).compareKey(a[0].value[0],a[1].value[0]);return e===0||e*(n==="asc"?1:-1)<0?i(0):i(1)})},r}var h=(e={},e[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return h},e.next=function(){return o("LSSynchronousPromise").makeSynchronousPromise({done:!0})},e);function y(e,t,n,a,i,l,s,u){var m=new Set,y=e.length>1,C=e.length===1&&e[0][1]==null,b=e.map(function(e){var r=e[0],s=e[1];return r.map(function(e){a.key_lookup===!0&&e.length!==0&&(s==null?"primary":"index "+s)+""+n.name+(JSON.stringify(e)||""),a.table_scan===!0&&e.length===0&&""+n.name;var r=e.map(function(e){return l(e,t)}),u=r.length===(s==null?n.primaryKeyIds:n.indexes[s]).length&&r.every(function(e){var t=e.end,n=e.start;return n&&t&&n[0]===t[0]&&n[1]===0&&t[1]===0});if(u){var c=function(){var e,t=!1;return e={},e[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=c,e.next=function(){var e;if(t)return o("LSSynchronousPromise").makeSynchronousPromise({done:!0});t=!0;var a=r.map(function(e){var t=e.start;return t[0]});return(e=s==null?i:i.index(s)).get.apply(e,a).then(function(e){if(!e)return{done:!0};var t=o("ReStoreVaulting").maybeUnvaultDbRow(e,n.name);return{done:!1,value:[a,t]}})},e};return c()}return p(s==null?i:i.index(s),r,t)})}).flat().reduce(function(n,r,o){var a=o===0&&n==null?h:n;return e.length>1?f(a,r):g(a,r,t)});function v(){var e;return e={},e[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]=v,e.next=function(){var e=!0,t,a,l,p,f=function(i){e=!1;var r=i.value;if(a=r[0],l=r[1],t=C?a:n.primaryKeyIds.map(function(e){return l[e]}),d(s,n,l)){p=i,e=!0;return}if(c(n.name)&&s&&l!=null&&l.transportKey!=="FBBroker"){p=i,e=!0;return}if(y){var u=JSON.stringify(t);if(m.has(u)){e=!0;return}m.add(u)}return o("LSMaybeSyncIteration").STOP_ITERATION};return o("LSMaybeSyncIteration").iteratorLoop(b,f).then(function(){if(p!=null){var o=p.value[1].transportKey;r("FBLogger")("messenger_web").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',u,o)}return e||t==null||l==null?{done:!0}:{done:!1,value:_(t,l,i,n,s)}})},e}return v()}l.isTranportKeyEnforcedTable=c,l.isNativePendingTaskViolation=d,l.stripUndefinedProperties=m,l.unionIterators=f,l.mergeIterators=g,l.fetch=y}),98);
__d("LSRuntimeDb",["FBLogger","LSIterationHelpers","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.name.match(/secure_|inbox(?!_)/i)}function s(t,n,o,a,i,l,s){return{metadata:o,table:function(d){var c=o.tableNames[o.tableIds[d]];if(n===0&&e(c))throw r("FBLogger")("messenger_web").mustfixThrow("cannot access secure table from dynamic mode");return u(t,c,a,i,l,s)},transactionId:t.__internal__transaction_id}}function u(e,t,n,a,i,l){var s=e.transactionTable(t.name,a[a.length-1]);return{add:function(n){l==null||l.logTableOperation(t.name,"add"),t.name.includes("encrypted_backups")&&(l==null||l.shouldSample()),o("LSIterationHelpers").isTranportKeyEnforcedTable(t.name)&&i&&(n.transportKey="FBBroker");var e=s.add(n);return r("gkx")("6636")?e:Promise.resolve(e)},fetch:function(){l==null||l.logTableOperation(t.name,"fetch"),t.name.includes("encrypted_backups")&&(l==null||l.shouldSample());for(var e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return o("LSIterationHelpers").fetch(r.length===0?[[[[]],void 0]]:r,"asc",t,n,s,c,i,a.join(", "))},fetchDesc:function(){l==null||l.logTableOperation(t.name,"fetchDesc"),t.name.includes("encrypted_backups")&&(l==null||l.shouldSample());for(var e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return o("LSIterationHelpers").fetch(r.length===0?[[[[]],void 0]]:r,"desc",t,n,s,c,i,a.join(", "))},peekNextAutoIncrementId:function(){return l==null||l.logTableOperation(t.name,"peekNextAutoIncrementId"),t.name.includes("encrypted_backups")&&(l==null||l.shouldSample()),s.peekNextAutoIncrementId()},put:function(n){if(l==null||l.logTableOperation(t.name,"put"),t.name.includes("encrypted_backups")&&(l==null||l.shouldSample()),o("LSIterationHelpers").isTranportKeyEnforcedTable(t.name)&&i&&(n.transportKey="FBBroker"),o("LSIterationHelpers").isNativePendingTaskViolation(i,t,n))throw r("FBLogger")("messenger_web").mustfixThrow("cannot put native task via LS transport");var e=t.primaryKeyIds.map(function(e){if(n[e]!==void 0)return n[e];throw r("FBLogger")("messenger_web").mustfixThrow("primary key must be defined on object")}),a=s.delete.apply(s,e).then(function(){return s.add(o("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},n)))});return r("gkx")("6636")?a:Promise.resolve(a)}}}function c(e,t){if(typeof e=="object"&&!Array.isArray(e)){var n,o;if(t==="asc"){if(Object.prototype.hasOwnProperty.call(e,"gt")&&(n=[e.gt,1]),Object.prototype.hasOwnProperty.call(e,"gte")){if(n!=null)throw r("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");n=[e.gte,0]}if(Object.prototype.hasOwnProperty.call(e,"lt")&&(o=[e.lt,1]),Object.prototype.hasOwnProperty.call(e,"lte")){if(o!=null)throw r("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");o=[e.lte,0]}}else{if(Object.prototype.hasOwnProperty.call(e,"lt")&&(n=[e.lt,1]),Object.prototype.hasOwnProperty.call(e,"lte")){if(n!=null)throw r("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");n=[e.lte,0]}if(Object.prototype.hasOwnProperty.call(e,"gt")&&(o=[e.gt,1]),Object.prototype.hasOwnProperty.call(e,"gte")){if(o!=null)throw r("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");o=[e.gte,0]}}return{end:o,start:n}}return{end:[e,0],start:[e,0]}}l.LSRuntimeDb=s,l.parseConstraint=c}),98);
__d("MWFBLogger",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return r("FBLogger")("messenger_web",t)},s=function(t){return r("FBLogger")("messenger_web_media",t)},u=function(t){return r("FBLogger")("messenger_web_sharing",t)},c=function(t){return r("FBLogger")("messenger_web_calling",t)},d=function(t){return r("FBLogger")("mps",t)};l.MWLogger=e,l.MWMediaLogger=s,l.MWSharingLogger=u,l.MWCallingLogger=c,l.MPSLogger=d}),98);
__d("XPlatReactTextDecoder",[],(function(t,n,r,o,a,i){"use strict";var e=self.TextDecoder;i.TextDecoder=e}),66);
__d("XPlatReactTextEncoder",[],(function(t,n,r,o,a,i){"use strict";var e=self.TextEncoder;i.TextEncoder=e}),66);
__d("base64Binary",["invariant"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){for(var t="",n=0;n<e.byteLength;n+=3){var r=e.subarray(n,n+3);t+=m(r)}var o=(e.byteLength+2)%3;return t.slice(0,t.length+o-2)+"==".slice(o)}function u(e){var t,n;e.length%4===0||s(0,51156);for(var r=e.length/4,o=(t=(n=e.match(/={0,2}$/))==null?void 0:n[0].length)!=null?t:0,a=new Uint8Array(r*3-o),i=0;i<r;i++){var l=p(e.slice(i*4,i*4+4));a.set(l.subarray(0,a.byteLength-i*3),i*3)}return a}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=">___?456789:;<=___\0___\0\x07\b	\n\v\f\r______\x1B !\"#$%&'()*+,-./0123";function m(e){var t,n,r=e[0]<<16|((t=e[1])!=null?t:0)<<8|((n=e[2])!=null?n:0);return String.fromCharCode(c.charCodeAt(r>>>18),c.charCodeAt(r>>>12&63),c.charCodeAt(r>>>6&63),c.charCodeAt(r&63))}function p(e){var t=d.charCodeAt(e.charCodeAt(0)-43)<<18|d.charCodeAt(e.charCodeAt(1)-43)<<12|d.charCodeAt(e.charCodeAt(2)-43)<<6|d.charCodeAt(e.charCodeAt(3)-43);return new Uint8Array([t>>>16,t>>>8&255,t&255])}l.encode=e,l.decode=u}),98);
__d("LS",["ExecutionEnvironment","FBLogger","I64","LSDatascriptRuntimeTypes","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationOperations","LSJson","LSRuntimeDb","LSSynchronousPromise","LSVec","MWFBLogger","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","isPromise","justknobx","qpl","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h="LS_WEB",y=o("MessengerLogHistory").getInstance("ls");function C(e){return o("base64Binary").decode(e).buffer}var b={compareTo:function(t,n){for(var e=new Uint8Array(t),r=new Uint8Array(n),o=Math.min(e.length,r.length),a=0;a<o;a++){var i=e[a]-r[a];if(i!==0)return i}return e.length===r.length?0:e.length-r.length},eq:function(t,n){if(t==null&&n==null)return!0;if(t==null||n==null)return!1;var e=new Uint8Array(t),r=new Uint8Array(n);if(e.length!==r.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!==r[o])return!1;return!0},ge:function(t,n){return b.compareTo(t,n)>=0},gt:function(t,n){return b.compareTo(t,n)>0},le:function(t,n){return b.compareTo(t,n)<=0},lt:function(t,n){return b.compareTo(t,n)<0},neq:function(t,n){return!b.eq(t,n)},of_string:function(t){if(t!=null){var e=new(o("XPlatReactTextEncoder")).TextEncoder;return e.encode(t).buffer}},to_string:function(t){if(t!=null){var e=new(o("XPlatReactTextDecoder")).TextDecoder;return e.decode(t)}}};function v(e){if(e.length!==1)throw r("FBLogger")("messenger_web").mustfixThrow("only literal strings supported");var t=e[0],n=parseInt(t.substr(-8),16),a=parseInt(t.substr(0,t.length-8),16);return(g||(g=o("I64"))).mk((n>>>1)+(a&1)*2147483648^-(n&1),a>>>1^-(n&1))}function S(e){var t,n;return(t=(n=e.__sproc_name__)!=null?n:e.__debugModuleSource)!=null?t:"<unknown_sproc>"}var R=(function(){var e=0;function t(t){var o=t.args,a=t.shouldLog,i=t.sprocName;if(n("cr:1088")==null||n("cr:1088").logStoredProcedureCall(i,o),!(!a||!n("cr:4790"))){var l=++e;return n("cr:4790").markerStart(r("qpl")._(25302991,"143"),l),n("cr:4790").markerAnnotate(r("qpl")._(25302991,"143"),{string:{name:i}},{instanceKey:l}),l}}function o(e,t,o){var a=e.shouldLog;!a||t==null||n("cr:4790")==null||n("cr:4790").markerEnd(r("qpl")._(25302991,"143"),o,t)}function a(e){return Math.random()*r("MetaConfig")._("10")<1}return{call:t,logSprocDone:o,shouldLogSproc:a}})(),L="Native operation timeout; transaction blocked",E=30*1e3;function k(t,n,a,i,l,g,I,T){l===void 0&&(l={}),g===void 0&&(g=void 0);var D=[],x=o("LSRuntimeDb").LSRuntimeDb(i,t,n,l,D,I,T),$=function(n,l){for(var e=arguments.length,s=new Array(e>2?e-2:0),u=2;u<e;u++)s[u-2]=arguments[u];var c;if(typeof l=="string"){if(c=a[l.toString()],c==null)throw r("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native type op with type: %s and id: %s",n,l);if(c===o("LSDynamicDependencies").TOMBSTONE)throw r("err")("Concurrent native type op loading failed for: %s (retryable)",l);c.load&&(c=c.load())}else c=l;return o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(c).then(function(e){return e.call.apply(e,[i,t].concat(s))})},P=function(n){for(var e=arguments.length,l=new Array(e>1?e-1:0),s=1;s<e;s++)l[s-1]=arguments[s];var u;if(typeof n=="string"){if(u=a[n+".bs"]||a[n+".nop"],u==null)throw r("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native op with id: %s",n);if(u===o("LSDynamicDependencies").TOMBSTONE)throw r("err")("Concurrent native type op loading failed for: %s (retryable)",n);u.load&&(u=u.load())}else u=n;var c,d;return o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(u).then(function(e){var n,a;c=(n=(a=e.__nop_name__)!=null?a:e==null?void 0:e.toString().slice(0,250))!=null?n:"<unknown nop name>",d=T==null?void 0:T.logNativeOperationStart(c);var s=o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(e.apply(void 0,[i,t].concat(l)));return(m||(m=r("isPromise")))(s)&&r("justknobx")._("3895")&&(f||(f=r("ExecutionEnvironment"))).isInBrowser?Promise.race([s,new Promise(function(e,t){return r("setTimeout")(function(){return t(r("err")(L))},E)})]):s}).then(function(e){var t;return(t=d)==null||t.end(),e},function(e){var t;(t=d)==null||t.end(),r("FBLogger")("messenger_web").catching(e).addMetadata(h,"NATIVE_OP_ID",c).mustfixThrow("Native operation %s failed: was_timeout: %s, is_in_worker: %s",c,(e==null?void 0:e.message)===L,(f||(f=r("ExecutionEnvironment"))).isInWorker)})},N=function(t){return t.slice(1).reduce(function(e,n){return typeof n!="function"?(r("FBLogger")("messenger_web").mustfix("Non-function passed (%s, type %s) in sequence (%s)",n,typeof n,JSON.stringify(t.map(function(e){return typeof e}))),e):e.then(n)},t[0]())},M=function(t,n){return t.slice(n)};return{Map:r("LSDict"),blob:C,blobs:b,constructor:{n:v},count:o("LSIterationOperations").count,createArray:function(){return r("LSVec").ofArray([])},createArrayWithElements:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("LSVec").ofArray(t)},db:x,filter:o("LSIterationOperations").filter,forEach:o("LSIterationOperations").forEach,groupBy:o("LSIterationOperations").groupBy,i64:r("LSInt64Lite"),islc:o("LSIterationOperations").slice,like:function(t,n){var e=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(e).test(t)},logger:function(t){if(g)return{debug:g,info:g,mustfix:g,warn:g};var e=o("MWFBLogger").MWLogger(),n=t.startsWith("epoch mismatch"),a=t.startsWith("cursor mismatch");if(n||a){var i=function(t){y.error(t,"error");var e=(function(){return n?"epoch_mismatch":a?"cursor_mismatch":"fixme_could_not_produce_key"})();(p||(p=o("ODS"))).bumpEntityKey(3185,"lsplatform",e)};return{debug:function(t){return y.debug(t)},info:function(t){return y.debug(t)},mustfix:i,warn:i}}else return r("gkx")("26382")||(e.info=r("emptyFunction")),e},loopAsync:function(n,a){function t(i){if(r("LSInt64Lite").lt(i,n)){for(var l=i,u=o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a(l));!(m||(m=r("isPromise")))(u);){if(l=r("LSInt64Lite").add(l,v(e||(e=babelHelpers.taggedTemplateLiteralLoose(["2"])))),!r("LSInt64Lite").lt(l,n))return o("LSSynchronousPromise").makeSynchronousPromise(void 0);u=o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a(l))}return u.then(function(){return t(r("LSInt64Lite").add(l,v(s||(s=babelHelpers.taggedTemplateLiteralLoose(["2"])))))})}return o("LSSynchronousPromise").makeSynchronousPromise(void 0)}return t(v(u||(u=babelHelpers.taggedTemplateLiteralLoose(["0"]))))},loopSync:function(t,n){for(var e=v(c||(c=babelHelpers.taggedTemplateLiteralLoose(["0"])));r("LSInt64Lite").lt(e,t);e=r("LSInt64Lite").add(e,v(d||(d=babelHelpers.taggedTemplateLiteralLoose(["2"])))))n(e)},merge:function(){function e(e,t){return(_||(_=o("ReStoreKeyComparer"))).compareValue(e,t)>0?e:t}function t(e,t){return(_||(_=o("ReStoreKeyComparer"))).compareValue([e[0],-e[1]],[t[0],-t[1]])<0?e:t}for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.reduce(function(n,r){var a=o("LSRuntimeDb").parseConstraint(r,"asc");return{end:n.end&&a.end?t(a.end,n.end):a.end||n.end,start:n.start&&a.start?e(a.start,n.start):a.start||n.start}},{});return babelHelpers.extends({},i.start?i.start[1]?{gt:i.start[0]}:{gte:i.start[0]}:null,i.end?i.end[1]?{lt:i.end[0]}:{lte:i.end[0]}:null)},n:v,nativeOperation:P,nativeTypeOperation:$,notnull:function(t){if(t===null)throw r("FBLogger")("messenger_web").mustfixThrow("value should not be null");return t},print:function(t){},resolve:function(t){return o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(t)},resolveGuaranteeAsync:function(t){var e;return((e=self.Promise)!=null?e:Promise).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(t))},rm:r("LSInt64Lite").of_int32(t),sequence:N,slice:M,sortBy:o("LSIterationOperations").sortBy,storedProcedure:function(s){for(var e=arguments.length,u=new Array(e>1?e-1:0),c=1;c<e;c++)u[c-1]=arguments[c];var d;if(typeof s=="string"){if(d=a[s],d==null)throw r("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented stored procedure with id: %s",s);if(d===o("LSDynamicDependencies").TOMBSTONE)throw r("err")("Concurrent sproc loading failed for: %s (retryable)",s);d.load&&(d=d.load())}else d=s;var m=this;switch(t){case 0:m=k(2,n,a,i,l,g,I);break;case 2:m=k(1,n,a,i,l,g,I);break}var p,_,f,y;return o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(d).then(function(e){return _=S(e),f=R.shouldLogSproc(_),D.push(_),p=R.call({args:u,shouldLog:f,sprocName:_}),y=T==null?void 0:T.logSprocCallStart(_,o("LSDatascriptRuntimeTypes").TopLevelCallOrigin.UI),i.reportUsedTablesForSyncAccess(e.__tables__),e.apply(void 0,u.concat([m]))}).then(function(e){var t;return D.pop(),R.logSprocDone({args:u,shouldLog:f,sprocName:_},p,2),(t=y)==null||t.end(),e},function(e){var t;throw D.pop(),R.logSprocDone({args:u,shouldLog:f,sprocName:_},p,3),(t=y)==null||t.end(),r("FBLogger")("messenger_web").catching(e).addMetadata(h,"SPROC_STACK",D.join(`
`)).warn("Sproc %s failed",_),e})},throw:function(t){throw r("FBLogger")("messenger_web").mustfixThrow(t)},toArray:o("LSIterationOperations").toArray,toJSON:function(t){return o("LSJson").stringify(t)}}}k.n=v,l.default=k}),98);
__d("LSAuthorityLevel",[],(function(t,n,r,o,a,i){var e=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});i.default=e}),66);
__d("LSBitOffset",["I64","LSBitFlag"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("LSBitFlag").set((e||(e=o("I64"))).lsl_(e.one,e.to_int32(t)),n)}function u(t,n){return o("LSBitFlag").clear((e||(e=o("I64"))).lsl_(e.one,e.to_int32(t)),n)}l.set=s,l.clear=u,l.empty=(e||(e=o("I64"))).zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(t,n,r,o,a,i,l){"use strict";var e,s=["capabilities","capabilities2"];function u(e,t){return c(e,t,!1)}function c(t,n,r){var a,i=n.capabilities,l=n.capabilities2;if(t>=64){var s;return l==null?r:o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t-64),(s=n.capabilities2)!=null?s:o("LSBitOffset").empty)}return i==null?r:o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t),(a=n.capabilities)!=null?a:o("LSBitOffset").empty)}function d(t,n){return o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t-64),n!=null?n:o("LSBitOffset").empty)}l.contactCapabilityFields=s,l.has=u,l.hasWithDefault=c,l.contactCapabilitiesHas=d}),98);
__d("LSContactType",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});i.default=e}),66);
__d("LSCookie",["$InternalEnum","Cookie","CookieCore","CurrentEnvironment","CurrentMessengerUser","FBLogger","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","MessengerLogHistory","MqttWebDeviceID","ReQL","SortedAsyncIterable","getErrorSafe","isPromise","isStringNullOrEmpty","pageID","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=n("$InternalEnum")({SYNCING:"1",NOT_SYNCING:"0"}),d=o("MessengerLogHistory").getInstance("client_init"),m=r("CurrentEnvironment").instagramdotcom?"igd_ls":"m_ls",p={c:{},d:r("MqttWebDeviceID").clientID,s:c.NOT_SYNCING,u:r("pageID")};function _(e){function t(e){o("CookieCore").setWithDomain_FOR_MESSENGER_LS_ONLY(m,JSON.stringify(e),window.location.hostname)}var n=r("Cookie").get(m);if(n==null){var a;t((a={},a[o("CurrentMessengerUser").getIDorEIMU()]=e,a));return}var i=JSON.parse(n);if(i.u==null){var l;t(babelHelpers.extends({},i,(l={},l[o("CurrentMessengerUser").getIDorEIMU()]=e,l)))}else{var s;t((s={},s[o("CurrentMessengerUser").getIDorEIMU()]=e,s))}}function f(){r("Cookie").clear(m)}function g(e){if(typeof e!="object"||e==null)return null;var t=e.c,n=e.d,r=e.s,o=e.u,a=typeof r=="string"?c.cast(r):null,i=typeof t=="object"&&t!=null?Object.entries(t).reduce(function(e,t){var n=t[0],r=t[1];return e==null||typeof r!="string"?null:(e[n]=r,e)},{}):null;return typeof n!="string"||a==null||i==null||typeof o!="string"?null:{c:i,d:n,s:a,u:o}}function h(){var e,t=r("Cookie").get(m);if(r("isStringNullOrEmpty")(t))return p;var n=JSON.parse(t),a=o("CurrentMessengerUser").getIDorEIMU(),i=g(n),l=typeof n=="object"&&n!=null?g(n[a]):null;return(e=l!=null?l:i)!=null?e:p}function y(e){var t=h();if(t.u===r("pageID")){var n={};e.forEach(function(e){var t=e[0],r=e[1],a=r.currentCursor,i=r.groupId;a!=null&&(n[(s||(s=o("I64"))).to_string(i)]=a)}),d.debug("Updated sync cookie to set syncing=false, saving latest cursors"),_(babelHelpers.extends({},t,{c:n,s:c.NOT_SYNCING}))}}var C=[1,2,o("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()?null:95];function b(t){var n=o("SortedAsyncIterable").toArray(o("ReQL").union.apply(void 0,C.map(function(e){return e==null?o("ReQL").empty():o("ReQL").fromTableAscending(t.tables.sync_groups).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(e))})));if((e||(e=r("isPromise")))(n)){r("promiseDone")(n.then(function(e){y(e)}));return}y(n)}function v(){try{var e=h();d.debug("Updated sync cookie to set syncing=true"),_(babelHelpers.extends({},e,{s:c.SYNCING,u:r("pageID")}))}catch(e){r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).warn("[LS] Failed to sync cookie")}}l.Status=c,l.DEFAULT_COOKIE=p,l.clear=f,l.get=h,l.syncBeforeUnload=b,l.setSyncing=v}),98);
__d("LSDataTraceFlushDeferred",["MetaConfig","Promise","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("LSDataTraceFlush").__setRef("LSDataTraceFlushDeferred");function u(t){return r("MetaConfig")._("62")?s.load().then(function(e){return e.flushExpiredDataTraces(t)}):(e||(e=n("Promise"))).resolve(function(){})}l.watchForExpiredTraces=u}),98);
__d("LSDatabaseProviderType",[],(function(t,n,r,o,a,i){"use strict";function e(e){return l(e.persistenceTypes)}function l(e){return e.includes("indexeddb")}i.isProviderPersisted=e,i.hasPersistentType=l}),66);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:6542"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:6542")}),98);
__d("LSTruncateTableAndSetShowError",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(e){return t.forEach(t.db.table(115).fetch(),function(e){return e.delete()})},function(r){return n[0]=t.i64.of_float(Date.now()),t.db.table(115).add({statusId:t.i64.cast([0,0]),timestampMs:n[0],errorShouldBeShown:e[0]})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSConnectivityTruncateTableAndSetShowErrorStoredProcedure",e.__tables__=["user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSDeleteAllAndInsertConnectivityStatus",["LSTruncateTableAndSetShowError"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.forEach(t.db.table(114).fetch(),function(e){return e.delete()})},function(n){return r[0]=t.i64.of_float(Date.now()),t.db.table(114).add({statusId:void 0,timestampMs:r[0],internetConnectionState:e[0]})},function(r){return t.storedProcedure(n("LSTruncateTableAndSetShowError"),t.i64.neq(e[0],t.i64.cast([0,1])))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure",e.__tables__=["connectivity_status"],a.exports=e}),null);
__d("LSDeleteAllAndInsertConnectivityStatusStoredProcedure",["LSDeleteAllAndInsertConnectivityStatus","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSDeleteAllAndInsertConnectivityStatus"),a.internetConnectionState);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSEagerlyLoadOnMessenger",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}i.eagerlyLoadOnMessenger=e}),66);
__d("LSFactory",["ExecutionEnvironment","LS","LSDynamicDependencies","LSMetadata","cr:8709"],(function(t,n,r,o,a,i,l){"use strict";var e,s={dynamic:!1};function u(t,a){a===void 0&&(a=s);var i=r("LS")(1,o("LSMetadata").schema,o("LSDynamicDependencies").cachedModules,t,void 0,void 0,a.dynamic,a.lsRuntimeLogger);return n("cr:8709")!=null&&(e||(e=r("ExecutionEnvironment"))).isInBrowser?n("cr:8709").wrapSprocInvocationWithProfiler(i):i}l.default=u}),98);
__d("LSGroupParticipantJoinState",[],(function(t,n,r,o,a,i){var e=Object.freeze({MEMBER:0,PENDING:1,INVITED:2});i.default=e}),66);
__d("LSInternetConnectionState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_CONNECTED:0,CONNECTED:1});i.default=e}),66);
__d("LSMessageReplySourceTypeV2",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,FB_STORY_MENTION:22,EXPIRED_STORY:23,FB_PRODUCER_STORY_REPLY:24,FB_POST_MENTION:25,AI_PERSONA_NOTE_REPLY:26,AI_PERSONA_NOTE_REACTION:27,FB_MSGR_NOTE:28,IG_COLLAB_INVITE:29,FB_QUICKSNAP:30});i.default=e}),66);
__d("LSMessageSendStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});i.default=e}),66);
__d("LSPlatformDefaultUnderlyingApi",["Promise","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return r("emptyFunction")}function u(){return(e||(e=n("Promise"))).resolve()}var c={cleanup:r("emptyFunction"),logEvent:function(t){},onConnectionStatusChange:s,onReconnect:s,publish:u,subscribe:s};l.default=c}),98);
__d("LSPlatformDeviceId",["ChannelClientID","FBLogger","LSCookie","MqttWebDeviceID","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("21118")?r("MqttWebDeviceID").clientID:r("ChannelClientID").getID()}var s=e();function u(t){return t==null&&r("FBLogger")("messenger_web").info("Missed provider type for deviceId"),t==="persisted"?o("LSCookie").get().d:e()}l.deviceId=s,l.getDeviceIdForProviderType=u}),98);
__d("LSShape",["LSDict"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("LSDict").fromObject(e)}function s(e){return r("LSDict").shapeToRecord(e)}l.ofRecord=e,l.toRecord=s}),98);
__d("LSStreamGroupRef",["I64","LSMailboxInitialSyncCursor"],(function(t,n,r,o,a,i,l){"use strict";var e,s={connectionStatusChangeHandler:null,current:null,currentStreamGroupId:null,publishBuffer:new Map,reconnectHandler:null,status:"Disconnected",subscribers:new Map};function u(){return(e||(e=o("I64"))).equal((e||(e=o("I64"))).of_int32(1),o("LSMailboxInitialSyncCursor").syncChannel)?"mqtt":s.current==null||s.current.streamGroupLoggingContext.sgTransportId==null?"null":s.current.streamGroupLoggingContext.sgTransportId}function c(){return s.status}l.streamGroupRef=s,l.getTransportId=u,l.getTransportStatus=c}),98);
__d("MessengerPWAVersionForUserAgent",["isMessengerPWA"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e,t=r("isMessengerPWA")();if(t){var n=(e=new URL(window.location.href).searchParams.get("__pwa"))!=null?e:"1.0.0";return n}}l.default=e}),98);
__d("LSPlatformRealtimeTransport",["I64","LSDynamicDependencies","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSShape","LSStreamGroupRef","MessengerPWAVersionForUserAgent","NetworkStatus","Promise","QuickPerformanceLogger","Random","clearTimeout","promiseDone","qpl","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=r("qpl")._(701246226,"1285"),m="LSPlatformRealtimeTransport.NotConnected",p="LSPlatformRealtimeTransport.Timeout";function _(e){var t=new Map;return{getAll:function(){return Array.from(t.values())},getOrStart:function(r){var n=r.toString(),o=t.get(n);return o==null&&(o=e(r),t.set(n,o)),o}}}function f(e){}function g(t,a,i){var l=new Map,m={contents:f},g=new Set,h=new Map,y=[],C=_(function(e){var n=t(e,i);return y.push(n.subscribe(function(e){var t=JSON.parse(e),n=o("LSDynamicDependencies").downloadBootloaderDependencies(t.sp,t.nop,t.ntop),a=t.request_id,i;if(a!=null){var s=l.get(a);if(s==null)i=!1;else{r("clearTimeout")(s.timeoutId),s.resolve({downloadTask:n,payload:t,type:"taskresponse"}),l.delete(a);var u=s.instanceKey;(c||(c=r("QuickPerformanceLogger"))).markerPoint(d,"response",{instanceKey:u}),c.markerEnd(d,2,u),i=!0}}else i=!1;if(!i){Array.from(h.entries()).forEach(function(e){return e[1](n,t)});return}})),y.push(n.onReconnect(function(e){return m.contents(e)})),y.push(n.onConnectionStatusChange(function(e){g.forEach(function(t){return t(e)})})),n});return C.getOrStart((u||(u=o("LSIntEnum"))).unwrapIntEnum(o("LSMailboxInitialSyncCursor").syncChannel)),{cleanup:function(){y.forEach(function(e){return e()}),C.getAll().forEach(function(e){return e.cleanup()})},logEvent:function(t){C.getAll().forEach(function(e){return e.logEvent(t)})},onConnectionStatusChange:function(t){return g.add(t),function(){g.delete(t)}},onReconnect:function(t){return m.contents=t,function(){m.contents=f}},publish:function(i){var t=i.databaseType,m=i.payload,_=i.queueName,f=i.requestId,g=i.syncChannel,h=i.type_;return new(e||(e=n("Promise")))(function(e,n){var i=C.getOrStart((u||(u=o("LSIntEnum"))).unwrapIntEnum(g)),y=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);if((s||(s=o("I64"))).equal(h,(u||(u=o("LSIntEnum"))).ofNumber(3))){var b=r("setTimeout")(function(){i.logEvent("Timeout");var e=l.get(f);return(c||(c=r("QuickPerformanceLogger"))).markerPoint(d,"timeout",{instanceKey:y}),c.markerEnd(d,3,y),e!=null&&(l.delete(f),e.reject({RE_EXN_ID:p})),n({RE_EXN_ID:p})},3e4);l.set(f,{instanceKey:y,queueName:_,reject:n,resolve:e,timeoutId:b,timestamp:Date.now()})}(c||(c=r("QuickPerformanceLogger"))).markerStart(d,y),c.markerPoint(d,"publish",{instanceKey:y}),c.markerAnnotate(d,{string:{networkStatus:String(r("NetworkStatus").isOnline()),streamGroupId:o("LSStreamGroupRef").getTransportId(),streamGroupStatus:o("LSStreamGroupRef").getTransportStatus()}},{instanceKey:y}),c.markerAnnotate(d,{int:{databaseType:t,requestType:u.toNumber(h)}},{instanceKey:y});var v=r("MessengerPWAVersionForUserAgent")();r("promiseDone")(i.publish(o("LSJson").stringify(o("LSShape").ofRecord(babelHelpers.extends({app_id:a,payload:m},v!=null?{pwa_version:v}:{},{request_id:f,type:h}))),h,t),function(){if(!(s||(s=o("I64"))).equal(h,(u||(u=o("LSIntEnum"))).ofNumber(3)))return(c||(c=r("QuickPerformanceLogger"))).markerPoint(d,"response",{instanceKey:y}),c.markerEnd(d,2,y),e({type:"noresponseexpected"})},function(e){(c||(c=r("QuickPerformanceLogger"))).markerPoint(d,"fail",{instanceKey:y}),c.markerEnd(d,3,y),n(e)})})},subscribeToNonTaskResponses:function(t){var e={};return h.set(e,t),function(){h.delete(e)}}}}l.NotConnected=m,l.Timeout=p,l.LSPlatformRealtimeTransport=g}),98);
__d("shouldStubUnderlyingTransport",["ExecutionEnvironment"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return!(e||(e=r("ExecutionEnvironment"))).canUseDOM&&!(e||(e=r("ExecutionEnvironment"))).isInWorker}l.default=s}),98);
__d("LSPlatformMqttRealtimeTransport",["I64","LSIntEnum","LSPlatformDefaultUnderlyingApi","LSPlatformRealtimeTransport","Promise","promiseDone","shouldStubUnderlyingTransport"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return[{payload:JSON.stringify({ls_fdid:"",ls_sv:e}),qos:1,topic:"/ls_app_settings"}]}function d(t){var a={contents:t.getConnectionState()},i={contents:function(){}},l={contents:new(u||(u=n("Promise")))(function(e,t){i.contents=e})},c={onMQTTStateChanged:function(t){t==="Connected"?i.contents():t==="Disconnected"&&a.contents==="Connected"&&(l.contents=new(u||(u=n("Promise")))(function(e,t){i.contents=e})),a.contents=t}};return a.contents==="Connected"&&i.contents(),t.subscribeChannelEvents(c),[function(){t.unsubscribeChannelEvents(c)},function(a,i,c){return l.contents.then(function(){return new(u||(u=n("Promise")))(function(n,l){r("promiseDone")(t.publish("/ls_req",a,{listener:{onEvent:function(t){if(t==="NOT_CONNECTED")return l({RE_EXN_ID:o("LSPlatformRealtimeTransport").NotConnected})}},qos:(e||(e=o("I64"))).equal(i,(s||(s=o("LSIntEnum"))).ofNumber(4))?0:1,skipBuffer:!1}),function(){return n()},function(e){return e.message==="Publish Timed Out"?l({RE_EXN_ID:o("LSPlatformRealtimeTransport").Timeout}):l(e)})})})}]}var m={contents:void 0};function p(e,t,n){if(r("shouldStubUnderlyingTransport")())return r("LSPlatformDefaultUnderlyingApi");var o=n.getInstance(t),a={getPublishMessages:function(){return c(e)}};o.registerExtraConnectPayloadProvider(a);var i={onMQTTStateChanged:function(t){var e=m.contents;if(e!=null)return e(t)}};o.subscribeChannelEvents(i);var l=o.subscribe("/ls_foreground_state",function(){}),s=d(o),u=s[0],p=s[1];return{cleanup:function(){o.unregisterExtraConnectPayloadProvider(a),n.shutdownAndClear(),o.unsubscribeChannelEvents(i),l(),u()},logEvent:function(t){},onConnectionStatusChange:function(t){return m.contents=t,function(){m.contents=void 0}},onReconnect:function(t){var e={contents:o.getConnectionState()},n={contents:e.contents==="Connected"},r={onMQTTStateChanged:function(o){o==="Connected"&&(n.contents&&e.contents!=="Connected"&&t(1),n.contents=!0),e.contents=o}};return o.subscribeChannelEvents(r),function(){o.unsubscribeChannelEvents(r)}},publish:p,subscribe:function(t){return o.subscribe("/ls_resp",function(e){return t(e)})}}}l.default=p}),98);
__d("LSPlatformRequestId",[],(function(t,n,r,o,a,i){"use strict";var e=4;function l(){var t=e;return e+=1,t}var s={generate:l};i.default=s}),66);
__d("LSPlatformRequestScheduler",["clearTimeout","justknobx","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=Math.pow(2,31)-1,s=(function(){function t(){this.requests=new Map}var n=t.prototype;return n.schedule=function(n,o,a){var t=this.requests.get(o);t!=null&&r("clearTimeout")(t);var i=r("justknobx")._("4435")?Math.min(a,e):a;this.requests.set(o,r("setTimeout")(n,i))},n.cleanup=function(){this.requests.forEach(function(e){return r("clearTimeout")(e)})},t})();l.default=s}),98);
__d("LSPlatformServerResponseHandler",["FBLogger","Promise","asyncToGeneratorRuntime","clearTimeout","nullthrows","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s="executeFirstBlockForSyncTransaction",u=(function(){function t(e){this.eval=e,this.currentlyRunning=new Map}var o=t.prototype;return o.evalWhenReady=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n;try{yield e,n=r("setTimeout")(function(){r("FBLogger")("messenger_web").mustfix("waited longer than 30 seconds to eval sync script")},3e4),yield this.eval(t)}finally{r("clearTimeout")(n)}});function t(t,n){return e.apply(this,arguments)}return t})(),o.$1=function(r){var t=this.currentlyRunning.get(r);return t==null&&(t=(e||(e=n("Promise"))).resolve(),this.currentlyRunning.set(r,t)),t},t.getSyncScriptType=function(t){var e;if(!((e=t.sp)!=null&&e.includes(s)))return{status:"non-transactional"};var n=(function(){try{var e;return(e=JSON.parse(t.syncScript))==null?void 0:e.step}catch(e){return null}})();if(!Array.isArray(n))return r("FBLogger")("messenger_web").warn("Sync payload appears invalid."),{status:"non-transactional"};for(var o=[n];o.length;){var a=r("nullthrows")(o.shift());for(var i of a)if(Array.isArray(i)){if(i[0]===5&&i[1]===s&&Array.isArray(i[2]))return{status:"transactional",syncGroup:parseInt(i[2][1],10)};o.push(i)}}return{status:"err"}},o.maybeEvalInOrderReceived=function(n,o){var e,a=this,i=t.getSyncScriptType(o),l=0;switch(i.status){case"err":r("FBLogger")("messenger_web").warn("Sync script sync group parsing failed: employed sprocs were %s",JSON.stringify((e=o.sp)!=null?e:void 0));break;case"non-transactional":return this.evalWhenReady(n,o);case"transactional":l=i.syncGroup;break}var s=this.$1(l),u=s.then(function(){return a.evalWhenReady(n,babelHelpers.extends({},o,{priority:"sync_script"}))}).catch(function(e){throw a.currentlyRunning.delete(l),e});return this.currentlyRunning.set(l,u),u},t})();l.default=u}),98);
__d("LSProgramTarget",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({DASM:1,JS:2,JSON:3}),l=e;i.default=l}),66);
__d("LSReplyMessageAttachmentType",[],(function(t,n,r,o,a,i){var e=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15,ROLL_CALL_TEXT_CONTRIBUTION:16,BLOKS_XMA:17,EPHEMERAL_RAVEN_MESSAGE:18,THIRD_PARTY_STICKER:19,SOUND_BITE:9});i.default=e}),66);
__d("LSVersion",[],(function(t,n,r,o,a,i){a.exports="33268215609459742"}),null);
__d("LSXmaContentType",[],(function(t,n,r,o,a,i){var e=Object.freeze({TEST:-1,NONE:0,IG_SINGLE_IMAGE_POST_SHARE:1e3,IG_MULTIPOST_SHARE:1001,IG_STORY_REPLY:1002,IG_STORY_PHOTO_SHARE:1003,IG_STORY_PHOTO_MENTION:1004,IG_CLIPS_SHARE:1005,IG_SINGLE_VIDEO_POST_SHARE:1006,IG_STORY_VIDEO_SHARE:1007,IG_STORY_REACTION:1008,IG_IGTV_SHARE:1009,IG_SHOP_SHARE:1010,IG_PROFILE_SHARE:1011,IG_STORY_PHOTO_HIGHLIGHT_SHARE:1012,IG_STORY_VIDEO_HIGHLIGHT_SHARE:1013,IG_STORY_VIDEO_MENTION:1014,IG_STORY_HIGHLIGHT_REPLY:1015,IG_STORY_HIGHLIGHT_REACTION:1016,IG_EXTERNAL_LINK:1017,IG_RECEIVER_FETCH:1018,IG_TEXT_POST_APP_SHARE:1019,IG_MULTI_MEDIA_RESPONSE:1020,FB_FEED_SHARE:2e3,FB_STORY_REPLY:2001,FB_STORY_SHARE:2002,FB_STORY_MENTION:2003,FB_FEED_VIDEO_SHARE:2004,FB_GAMING_CUSTOM_UPDATE:2005,FB_PRODUCER_STORY_REPLY:2006,FB_EVENT:2007,FB_FEED_POST_PRIVATE_REPLY:2008,FB_SHORT:2009,FB_COMMENT_MENTION_SHARE:2010,FB_STORY_LWI_REPLY:2011,FB_COMMENT_SHARE:2012,FB_POST_MENTION:2013,FB_PROFILE_DIRECTORY_ITEM:2014,FB_FEED_POST_REACTION_REPLY:2015,FB_QUICKSNAP_REPLY:2016,FB_SPARK_ICEBREAKER:2017,MSG_EXTERNAL_LINK_SHARE:3e3,MSG_P2P_PAYMENT:3001,MSG_LOCATION_SHARING:3002,MSG_LOCATION_SHARING_V2:3003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:3004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:3005,MSG_RECEIVER_FETCH:3006,MSG_IG_MEDIA_SHARE:3007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:3008,MSG_REELS_LIST:3009,MSG_CONTACT:3010,MSG_THREADS_POST_SHARE:3011,MSG_FILE:3012,MSG_AVATAR_DETAILS:3013,MSG_AI_CONTACT:3014,MSG_MEMORIES_SHARE:3015,MSG_SHARED_ALBUM_REPLY:3016,MSG_SHARED_ALBUM:3017,MSG_OCCAMADILLO_XMA:3018,MSG_GEN_AI_1P_SEARCH_RESULT:3019,MSG_EARLY_ACCESS_FB_SHARE:3020,MSG_GEN_AI_SUBSCRIPTION:3021,MSG_GEN_AI_REMINDER:3022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:3023,MSG_MAGICAL_MESSENGER_PLACES:3024,MSG_RECEIVER_FETCH_FALLBACK:3025,MSG_MAGICAL_MESSENGER_TASKS:3026,MSG_NOTE_REPLY:3027,MSG_NOTE_MENTION:3028,MSG_PROMPT_REPLY:3029,MSG_GEN_AI_TASK:3030,MSG_GEN_AI_RICH_RESPONSE:3040,MSG_RECEIVER_FETCH_ENT_DELETED:3041,MSG_GEN_AI_APP_DOWNLOAD_LINK:3042,MSG_GEN_AI_ENTITY:3043,MSG_OPG_P2P_PAYMENT:3044,MSG_MARKETPLACE:3045,MSG_MUSIC_STICKER:3046,MSG_META_AI_DIGEST:3047,MSG_PHONE_NUMBER:3048,MSG_GEN_AI_CONCORD_FEED_POST:3049,MSG_META_AI_MEDIA_SHARE:3050,RTC_AUDIO_CALL:4e3,RTC_VIDEO_CALL:4001,RTC_MISSED_AUDIO_CALL:4002,RTC_MISSED_VIDEO_CALL:4003,RTC_GROUP_AUDIO_CALL:4004,RTC_GROUP_VIDEO_CALL:4005,RTC_MISSED_GROUP_AUDIO_CALL:4006,RTC_MISSED_GROUP_VIDEO_CALL:4007,RTC_ONGOING_AUDIO_CALL:4008,RTC_ONGOING_VIDEO_CALL:4009,DATACLASS_SENDER_COPY:5e3,OC_AVATAR_STATIC_STICKER:6e3,LIVE_LOCATION:7e3});i.default=e}),66);
__d("MAWODSProxy",["CurrentMessengerUser","ODS"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.amount,r=t.entity,a=t.key;(e||(e=o("ODS"))).bumpEntityKey(3185,r,a+"."+(o("CurrentMessengerUser").getAppID()||"unknown"),n)}l.odsBumpEntityKey=s}),98);
__d("WAGlobals",["WAJids","WALogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null;function u(e){s=e}function c(){if(s==null)throw r("err")("WaMsgr api called before set");return s}function d(){var e;return(e=c().myJids)==null?void 0:e.deviceJid}function m(){var e;return(e=c().myJids)==null?void 0:e.userJid}function p(e){return o("WAJids").extractUserJid(e)===o("WAJids").extractUserJid(d())}function _(){return c().config}function f(){return c().dependencies}var g="WAOneQueue is not defined";function h(){var t=c().waOneQueue;if(t==null)throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["",""])),g),r("err")(g);return t}function y(){return c().hmacKey}l.setGlobals=u,l.getMyDeviceJid=d,l.getMyUserJid=m,l.isPeerDevice=p,l.getConfig=_,l.getDependencies=f,l.getWaOneQueue=h,l.getHMACKey=y}),98);
__d("MAWUserJidWrapper",["ExecutionEnvironment","MAWCurrentUser","MAWODSProxy","WAGlobals","WAJids","WAOdsEnums"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("WAJids").toMsgrUserJid(o("MAWCurrentUser").getID());if((e||(e=r("ExecutionEnvironment"))).isInWorker){var n=o("WAGlobals").getMyUserJid();return o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.MAW_MY_USER_JID_GETTER,key:n===t?"same":"different"}),n}return t}l.getMyUserJid=s}),98);
__d("MAWAuthor",["MAWUserJidWrapper","WAJids","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){if(t==null||t===o("WAJids").AUTHOR_SYSTEM)return null;if(o("WAJids").isAuthorMe(t))return o("MAWUserJidWrapper").getMyUserJid();var e=o("WAJids").authorAsUserJid(t);return e==null||r("isStringNullOrEmpty")(o("WAJids").userIdFromJid(e))?null:o("WAJids").authorAsUserJid(t)};l.getAuthorUserJid=e}),98);
__d("MAWErrorObject",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e instanceof Error?e:typeof e=="string"?r("err")(e):null}l.getErrorObject=e}),98);
__d("WAStanzaUtils",[],(function(t,n,r,o,a,i){"use strict";var e=/^[0-9A-Za-z-]{1,32}$/;function l(e){return e}function s(t){return e.test(t)?t:null}i.toStanzaId=l,i.validateCallId=s}),66);
__d("MAWExternalId",["I64","Random","WAStanzaUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=131071,u=null,c=0;function d(){var e=u,t=Date.now();if(e==null||p(e)!==p(t))return u=t,c=0,t;var n=t+100*(c+1),r=g(t),o=g(n);return r==null||o==null||r>o?t:(c++,n)}function m(e){return new Date(e).getTime()>0}function p(e){return Math.floor(e/100)*100}function _(e){return Math.floor(r("Random").random()*e)}function f(){var t=d();return o("WAStanzaUtils").toStanzaId((e||(e=o("I64"))).to_string(e.and_(e.or_(e.lsl_(e.of_float(t),22),e.and_(e.of_float(_(s)),e.of_float(s))),e.max_int)))}function g(e){return m(e)?Math.floor(Number(e)%1e5/100):null}l.generateExternalId=f,l.getThreeMostSignificantDigitsForSortOrderTimestamp=g}),98);
__d("MAWJids",["I64","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WAJids").createJidUtils({platform:"msgr"}),u=s.toUserJid,c=function(n,r){var t=(e||(e=o("I64"))).to_string(n);return r?o("WAJids").toGroupJid(t):u(t)};function d(e){return c(e,!1)}function m(e){return c(e,!0)}var p=function(n){var t=o("WAJids").threadIdForChatJid(n);return(e||(e=o("I64"))).of_string(t)};function _(e){return o("WAJids").unsafeCoerceToChatJid(e)}l.jidUtils=s,l.toUserJid=u,l.convertIntJidToChatJid=c,l.convertIntJidToOneToOneChatJid=d,l.convertIntJidToGroupJid=m,l.convertChatJidToIntJid=p,l.threadIdToChatJid=_}),98);
__d("MAWLeakDetection",[],(function(t,n,r,o,a,i){"use strict";var e="[Vault] Vaulted string detected";function l(e){var t=/\d{10}##\d{10}/gm;return t.test(e)}function s(t){return l(t)?e:t}i.VAULTED_STRING_DETECTED=e,i.detectVaultedString=l,i.maybeReplaceVaultedString=s}),66);
__d("MAWSendQplToServer",["BrowserLockManager","ExecutionEnvironment","QPLUserFlow","WAExceededStorageQuota","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,o,a){return r("QPLUserFlow").start(t,{annotations:babelHelpers.extends({},n||{},{bool:babelHelpers.extends({},(n==null?void 0:n.bool)||{},{isDev:0,isFromUIThread:(e||(e=r("ExecutionEnvironment"))).isInMainThread,isGifSearchEnbled:!0,isLockApiSupported:r("BrowserLockManager")!=null,processAcksInOneQueue:r("gkx")("23955"),useSharedWorker:"SharedWorkerGlobalScope"in self&&self instanceof self.SharedWorkerGlobalScope})}),instanceKey:o,timeoutInMs:a}),u(t,o)}function u(e,t){return{addAnnotations:function(o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:t})},addPoint:function(o,a){a&&r("QPLUserFlow").addAnnotations(e,a,{instanceKey:t}),r("QPLUserFlow").addPoint(e,o,{instanceKey:t})},endCancel:function(a){var n;r("QPLUserFlow").addAnnotations(e,babelHelpers.extends({},a,{bool:babelHelpers.extends({},a==null?void 0:a.bool,{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers.extends({},a==null?void 0:a.string,{threadID:a==null||(n=a.string)==null?void 0:n.jid})}),{instanceKey:t}),r("QPLUserFlow").endCancel(e,{annotations:a,instanceKey:t})},endFail:function(a,i){var n;r("QPLUserFlow").addAnnotations(e,babelHelpers.extends({},i,{bool:babelHelpers.extends({},i==null?void 0:i.bool,{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers.extends({},i==null?void 0:i.string,{threadID:i==null||(n=i.string)==null?void 0:n.jid})}),{instanceKey:t}),r("QPLUserFlow").endFailure(e,a,{annotations:i,instanceKey:t})},endSuccess:function(a){r("QPLUserFlow").addAnnotations(e,{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:t}),r("QPLUserFlow").endSuccess(e,{annotations:a,instanceKey:t})},markError:function(o,a,i){return r("QPLUserFlow").markError(e,o,{debugInfo:a,error:i,instanceKey:t})}}}l.startQplUserFlow=s,l.makeMAWQPLProxyForExistingQPLUserFlow=u}),98);
__d("WAErrorMessage",[],(function(t,n,r,o,a,i){"use strict";var e="NoErrorMessageProvided";function l(t){if(typeof t=="string")return t;if(t instanceof Error)return t.toString();if(typeof t=="object"){if(typeof(t==null?void 0:t.description)=="string")return t.description;if(typeof(t==null?void 0:t.message)=="string")return t.message}return e}i.NO_ERROR_MESSAGE_PROVIDED=e,i.maybeGetMessageFromError=l}),66);
__d("MAWQplProxy",["Deferred","ExecutionEnvironment","FBLogger","MAWBridge","MAWSendQplToServer","QPLEvent","WAErrorMessage","asyncToGeneratorRuntime","getErrorSafe","gkx","justknobx","performanceAbsoluteNow","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=(e=r("gkx")("23949"))!=null?e:!1,_=new Set([25313175,25310776,1056839232,1056836502,1056836703,1056847537,521478596,521479468,521476165,521480391,521472095]),f=0,g=(d||(d=r("performanceAbsoluteNow")))()-Date.now();function h(){return Date.now()}var y=new(r("Deferred")),C=function(){y.resolve()};function b(e,t,n,a,i){a===void 0&&(a=!1),r("promiseDone")(y.getPromise(),function(){return o("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:t,type:"point"},annotations:n==null?void 0:n.annotations,event:e,instanceKey:n==null?void 0:n.instanceKey,performanceAndDateSkew:g,timestamp:a?h():void 0},!0,void 0,i)})}function v(e,t,n,r,o){var a;E(e,{bool:(a={},a[t]=n,a)},r,o)}function S(e,t,n,r,o){var a;E(e,{string:(a={},a[t]=n,a)},r,o)}function R(e,t,n,r,o){var a;E(e,{int:(a={},a[t]=n,a)},r,o)}function L(e,t,n,r){E(e,{double:t},n,r)}function E(e,t,n,a){r("promiseDone")(y.getPromise(),function(){return o("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:t,event:e,instanceKey:n},!0,void 0,a)})}function k(e,t,n,a,i,l){i===void 0&&(i=!1);var s=h();r("promiseDone")(y.getPromise(),function(){return o("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:t,type:"failure"},annotations:n,event:e,instanceKey:a,timestamp:i?s:void 0},!0,void 0,l)})}function I(e,t,n,a,i){a===void 0&&(a=!1);var l=h();r("promiseDone")(y.getPromise(),function(){return o("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"success"},annotations:t,event:e,instanceKey:n,timestamp:a?l:void 0},!0,void 0,i)})}function T(e,t,n,a,i,l){i===void 0&&(i=!1);var s=h();r("promiseDone")(y.getPromise(),function(){return o("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{cancelReason:t,type:"cancel"},annotations:n,event:e,instanceKey:a,timestamp:i?s:void 0},!0,void 0,l)})}function D(e,t,n,a){r("promiseDone")(y.getPromise(),function(){return o("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:t,type:"error"},debugInfo:n==null?void 0:n.debugInfo,error:n==null?void 0:n.error,event:e,instanceKey:n==null?void 0:n.instanceKey},!0,void 0,a)})}function x(e,t,n,r,o){return $.apply(this,arguments)}function $(){return $=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a,i){b(e,t+"_start",{annotations:a,instanceKey:i});try{var l=yield n();return b(e,t+"_end",{instanceKey:i}),l}catch(n){throw r("FBLogger")("messenger_web").catching(r("getErrorSafe")(n)).MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Caught exception for "," during measurePerf"])),t),b(e,t+"_fail",{annotations:{string:{caughtError:o("WAErrorMessage").maybeGetMessageFromError(n)}},instanceKey:i}),n}}),$.apply(this,arguments)}function P(e,t,n){return N.apply(this,arguments)}function N(){return N=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){e.addPoint(t+"_start");try{var a=yield n;return e.addPoint(t+"_end"),a}catch(n){throw r("FBLogger")("messenger_web").catching(r("getErrorSafe")(n)).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Caught exception for "," during measurePerf"])),t),e.addPoint(t+"_fail",{string:{caughtError:o("WAErrorMessage").maybeGetMessageFromError(n)}}),n}}),N.apply(this,arguments)}var M=r("justknobx")._("2596");function w(e,t,n){n===void 0&&(n={});var a=n,i=a.callBridgeWithTimestamp,l=i===void 0?!1:i,s=a.providedInstanceKey,u=a.providedTimeoutInMs,c=a.sendThroughBridge,d=c===void 0?!1:c;s==null&&f++;var p=s!=null?s:f,_=u!=null?u:M,g=!(m||(m=r("ExecutionEnvironment"))).isInWorker,C=d||F(e);if(g||!C)return o("MAWSendQplToServer").startQplUserFlow(e,t,p,_);var v=d?{toLastActiveClient:!0}:void 0;return r("promiseDone")(y.getPromise(),function(){return o("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"start"},annotations:babelHelpers.extends({},t||{},{bool:babelHelpers.extends({},(t==null?void 0:t.bool)||{})}),event:e,instanceKey:p,timeoutInMs:_,timestamp:l?h():void 0},!0,void 0,v)}),{addAnnotations:function(n){return E(e,n,p,v)},addPoint:function(n,r){return b(e,n,{annotations:r,instanceKey:p},void 0,v)},endCancel:function(n){return T(e,void 0,n,p,void 0,v)},endFail:function(n,r){return k(e,n,r,p,void 0,v)},endSuccess:function(n){return I(e,n,p,void 0,v)},markError:function(n,r,o){return D(e,n,{debugInfo:r,error:o,instanceKey:p},v)}}}function A(e,t){return!(m||(m=r("ExecutionEnvironment"))).isInWorker||!F(e)?o("MAWSendQplToServer").makeMAWQPLProxyForExistingQPLUserFlow(e,t):{addAnnotations:function(r){return E(e,r,t)},addPoint:function(r,o){return b(e,r,{annotations:o,instanceKey:t})},endCancel:function(r){return T(e,void 0,r,t)},endFail:function(r,o){return k(e,r,o,t)},endSuccess:function(r){return I(e,r,t)},markError:function(r,o,a){return D(e,r,{debugInfo:o,error:a,instanceKey:t})}}}function F(e){return p||_.has((c||(c=o("QPLEvent"))).getMarkerId(e))}function O(e,t){return W(e,t)}var B=0;function W(e,t){var n,o=(n=t==null?void 0:t.instanceKey)!=null?n:B++,a=!0;return{addAnnotations:function(n){E(e,n,o)},addPoint:function(n,r){b(e,n,{annotations:r,instanceKey:o})},endCancel:function(n,r){T(e,n,r,o),a=!1},endFail:function(n,r){k(e,n,r,o),a=!1},endSuccess:function(n){I(e,n,o),a=!1},getQPLAttrs:function(){return{instanceKey:o}},isActive:function(){return a},start:function(t){r("FBLogger")("messenger_web").warn("start() should not be called for cross-bridge QPL flow")}}}l.performanceAbsoluteNow=h,l.workerBridgeDeferred=y,l.resolveWorkerBridge=C,l.sendQplPointThroughBridge=b,l.sendQPLBoolAnnotationThroughBridge=v,l.sendQPLStringAnnotationThroughBridge=S,l.sendQPLIntAnnotationThroughBridge=R,l.sendQPLDoubleAnnotationsThroughBridge=L,l.sendQPLAnnotationsThroughBridge=E,l.sendQPLFailThroughBridge=k,l.sendQPLSuccessThroughBridge=I,l.sendQPLCancelThroughBridge=T,l.sendQPLErrorThroughBridge=D,l.measurePerfInQPL_USE_WITH_CARE=x,l.measurePerfInQPL=P,l.DEFAULT_WORKER_QPL_TIMEOUT_MS=M,l.startQplUserFlow=w,l.makeQplUserFlowFromExistedInstance=A,l.continueQplAsCrossBridgeQplFlow=O}),98);
__d("MAWTransactionMode",[],(function(t,n,r,o,a,i){"use strict";var e="r!",l="rw!";i.READONLY=e,i.READWRITE=l}),66);
__d("MAWLogIndexedDb",["FBLogger","MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=null;function c(){return r("justknobx")._("1399")}function d(){if(s==null)throw r("FBLogger")("messenger_web").mustfixThrow("LogDB IndexDB should've been initialized");return s}function m(){return u==null?f().then(function(){return d()}):u.then(function(){return d()})}function p(){return s!=null}var _=[function(e){var t=e.target.transaction;o("WAExceededStorageQuota").listenToQuotaExceededError(t);var n=t.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});n.createIndex("date","date",{unique:!1})}];function f(t){var r;if(u!=null)return u;if(s!=null)return(e||(e=n("Promise"))).resolve();var a=o("MAWCurrentUser").getID(),i=o("MAWIndexedDbMetadata").logDbName(a),l=(r=t!=null?t:c())!=null?r:_.length;return u=new(e||(e=n("Promise")))(function(e,t){var n=indexedDB.open(i,l);n.onupgradeneeded=function(e){for(var t=0;t<_.length;t++){var n=_[t];g(e,t+1)&&n(e)}},n.onsuccess=function(t){var n=t.target.result;n.onversionchange=function(){n.close()},s=n,e()},n.onerror=function(){t(n.error)}}),u}function g(e,t){var n=e.newVersion,r=e.oldVersion;return r<t&&n>=t}function h(e){return e===o("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function y(e,t,n){var a=h(t);return function(t){return function(){for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];var u=n!=null?o("MAWQplProxy").startQplUserFlow(n):null;return m().then(function(n){var r=function(r){var t=n.transaction(e,r!=null?h(r):a,{durability:"relaxed"});return o("WAExceededStorageQuota").listenToQuotaExceededError(t),t.objectStore(e)};return t.apply(void 0,[r].concat(l))}).then(function(e){return u==null||u.endSuccess(),e}).catch(function(e){u==null||u.endFail("transaction_fail");var t=o("MAWErrorObject").getErrorObject(e),n=r("FBLogger")("maw_db");throw t instanceof Error?n.catching(t).mustfixThrow("LOG - Error performing transaction in log transactor"):n.mustfixThrow("LOG - Error performing transaction in log transactor")})}}}l.getLogDbVersion=c,l.getLogDB=d,l.isLogDBInitted=p,l.dbMigrations=_,l.makeLogMsgrTransactor=y}),98);
__d("MAWLoggingSwitches",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("gkx")("503");l.removeLoggingFromBridge=e}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","Promise","asyncToGeneratorRuntime","justknobx","pageID","promiseDone","throttle"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("justknobx")._("1403"),u=r("justknobx")._("1404"),c=r("justknobx")._("1401");function d(e){if(Number.isInteger(e))return e;if(typeof e=="string")return(e||"").replace(/\n/g,"");try{return JSON.stringify(e)}catch(e){return"Data could not be serialized"}}function m(e,t){return t===void 0&&(t=""),e.length>0?"["+e.join("|")+"]":t}function p(e){switch(e){case"logRestricted":return"warn";case"count":return"log";case"debug":case"log":case"warn":case"error":return e}}function _(e){return{args:e.logString,date:e.date,event:m(e.tags,"[]"),level:p(e.logLevel)}}function f(e,t,n,r,o,a){return{args:e+"; ERROR="+n.message+";",data:{entriesToReport:o,error:n,framesToPop:r,stack:a},date:Date.now(),event:m(t,"[]"),level:"error"}}var g=[],h=[],y=5,C=0,b=!1,v=function(){g.length=0},S=function(t){var e=I(t);h.length<y?h.push(e):h[C%y]=e,C=(C+1)%y},R=function(r){for(var t=[],o=0;o<r;){var a=((C-o-1)%y+y)%y,i=h[a];t.push(i),o++}return(e||(e=n("Promise"))).resolve(t)},L=function(t,n){g.push({context:t,logEntry:n}),S({context:t,logEntry:n}),g.length>s?r("promiseDone")(E()):k()},E=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){b=!0;try{var e=[].concat(g);v(),yield T(e)}catch(e){}b=!1});return function(){return e.apply(this,arguments)}})(),k=r("throttle")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!b){b=!0;try{var e=[].concat(g);v(),yield T(e)}catch(e){}b=!1}}),u),I=function(t){var e=t.context,n=t.logEntry;return Object.entries(n).reduce(function(e,t){var n=t[0],r=t[1];return e[n]=d(r),e},babelHelpers.extends({},n,{category:e+"-"+r("pageID")}))},T=o("MAWLogIndexedDb").makeLogMsgrTransactor("logs",o("MAWTransactionMode").READWRITE)(function(e,t){var n=new(r("Deferred")),o=e();return t.forEach(function(e){o.add(I(e))}),o.transaction.oncomplete=function(){return n.resolve()},o.transaction.onerror=function(e){return n.reject(e)},n.getPromise()}),D=o("MAWLogIndexedDb").makeLogMsgrTransactor("logs",o("MAWTransactionMode").READONLY)(function(e){var t=new(r("Deferred")),n=e(),o=n.getAll();return o.onsuccess=function(e){var n=e.target.result,r=n.slice(Math.max(0,n.length-c));t.resolve(r)},o.onerror=function(e){return t.reject(e)},t.getPromise()}),x=function(){return D().catch(function(e){return[]})},$=function(t){var e=t<=h.length?R(t):P(t);return e.catch(function(e){return[]})},P=o("MAWLogIndexedDb").makeLogMsgrTransactor("logs",o("MAWTransactionMode").READONLY)(function(e,t){var n=new(r("Deferred")),o=e(),a=o.index("date"),i=a.openCursor(null,"prev"),l=[];return i.onsuccess=function(e){var r=e.target.result;if(r==null){n.resolve(l);return}if(l.push(r.value),l.length>=t){n.resolve(l);return}r.continue()},i.onerror=function(e){return n.reject(e)},n.getPromise()});l.joinTags=m,l.formatLog=_,l.formatErrorForLogging=f,l.clearLogEntryCache=v,l.saveLogEntry=L,l.forceCachedLogEntryPersist=E,l.getEntriesFromDb=x,l.getLastNEntries=$}),98);
__d("WADevToolsBridge",["WADynamicRouterAsync"],(function(t,n,r,o,a,i,l){"use strict";var e=new(o("WADynamicRouterAsync")).DynamicRouter;function s(){return e}l.getDevToolBridge=s}),98);
__d("MAWLoggerUtils",["ErrorBrowserConsole","ErrorPubSub","MAWLeakDetection","MAWLoggingSwitches","MAWSaveLogToDisk","Random","ServerJsRuntimeEnvironment","WADevToolsBridge","WAJids","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1;function u(e,t){var n=c.has(e==null?void 0:e.project);if(n){var o,a,i;f(e.type==="error"||e.type==="fatal"?"error":e.type==="warn"?"warn":"log",e.message,(o=e.tags)!=null?o:[],(a=(i=e.metadata)==null?void 0:i.includes("MESSENGER_E2EE_WEB:ENVIRONMENT:worker"))!=null?a:!1)}t&&r("ErrorBrowserConsole").errorListener(e)}var c=new Set(["messenger_web","wmi_eb","labyrinth_web","messenger_web_media","messenger_web_calling","mps","wmi","MAWCacheService","MAWUIPersistedDataServices","fts_worker","maw_threads"]),d={CleanerPurge:"CleanerPurge",CleanerStart:"CleanerStart",CleanerTimestamp:"CleanerTimestamp",CleanerUpdate:"CleanerUpdate",Countdown:"Countdown",Ephemeral:"Ephemeral",Incoming:"Incoming",MsgCleaner:"MsgCleaner",OnLoad:"OnLoad",OnRead:"OnRead",Outgoing:"Outgoing",PeerReceipt:"PeerReceipt",SettingChange:"SettingChange",SettingSync:"SettingSync",DeviceRegistration:"DeviceRegistration",MessageReceive:"MessageReceive",MediaDownload:"MediaDownload",WorkerSetup:"WorkerSetup",MAWWorker:"MAWWorker",MAWInit:"MAWInit",LogoutHandler:"LogoutHandler",MiActMapping:"MiActMapping",ThreadReady:"ThreadReady"};function m(){return Math.floor(Date.now()+o("Random").random()*1e4+1e4)}function p(e){var t=e.split("");return t.reduce(function(e,t){var n=t.charCodeAt(0),r=(e<<5)-e+n;return r&=r,r},0)}function _(){if(!s){s=!0;var t=r("gkx")("2656");(e||(e=r("ErrorPubSub"))).removeListener(r("ErrorBrowserConsole").errorListener),e.addListener(function(e){return u(e,t)})}}function f(e,t,n,a){if(!o("ServerJsRuntimeEnvironment").isRunningServerJsRuntime()){var i=o("MAWLeakDetection").maybeReplaceVaultedString(o("WAJids").maybeSanitizeLogLineText(t)),l=Date.now();if(r("gkx")("3282")&&o("WADevToolsBridge").getDevToolBridge().fireAndForget("devtool","logLine",{logLevel:e,logString:g(i,n)},!0),!!o("MAWLoggingSwitches").removeLoggingFromBridge){var s=i.replace(/\n/g," ");e==="debug"||typeof s!="string"||o("MAWSaveLogToDisk").saveLogEntry(a?"worker":"browser",{args:s,date:l,event:o("MAWSaveLogToDisk").joinTags(n,"[unknown]"),level:e})}}}function g(e,t){return t.length>0?o("MAWSaveLogToDisk").joinTags(t)+" "+e:e}l.Tag=d,l.getInstanceKey=m,l.getInstanceKeyFromId=p,l.initMessengerWebLogging=_,l.logToHistory=f}),98);
__d("MAWThreadLoadingState",["I64","LSAuthorityLevel","LSIntEnum","MAWJids","MAWMiActMappingTableAPI","MAWThreadMappingQPL","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c={MISSING:"MISSING",OPTIMISTIC:"OPTIMISTIC",PARTIAL:"PARTIAL",READY:"READY"},d={IN_PROGRESS:"IN_PROGRESS",MISSING:"MISSING",READY:"READY"};function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield o("MAWMiActMappingTableAPI").getMappingRowForChatJid(e,t);if(n==null)return{mappingState:{actState:d.MISSING,miState:c.MISSING},threadKey:null};var r=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(n.serverThreadKey));return{mappingState:y(r,n),threadKey:n.serverThreadKey}}),p.apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield m(e,t),r=n.mappingState;return r}),f.apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var r=yield(u||(u=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(t)),o("MAWMiActMappingTableAPI").getMappingRowForThreadKey(e,t)]),a=r[0],i=r[1];return y(a,i)}),h.apply(this,arguments)}function y(e,t){return{actState:R(t),miState:L(e)}}function C(e){return v(e)&&S(e)}function b(e){return e.miState===c.OPTIMISTIC}function v(e){return e.miState===c.READY}function S(e){return e.actState===d.READY}function R(e){return e==null?d.MISSING:I(e.clientThreadPk)?d.IN_PROGRESS:d.READY}function L(t){if(t==null)return c.MISSING;var n=(e||(e=o("LSIntEnum"))).toNumber(t.authorityLevel);return n===r("LSAuthorityLevel").AUTHORITATIVE?c.READY:n===r("LSAuthorityLevel").OPTIMISTIC?c.OPTIMISTIC:c.PARTIAL}function E(e,t,n){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){yield e.mi_act_mapping_table.put({clientThreadPk:(s||(s=o("I64"))).neg(t),jid:n,serverThreadKey:t})}),k.apply(this,arguments)}function I(e){return(s||(s=o("I64"))).lt(e,s.zero)}function T(e,t,n){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=t.jid,a=t.threadKey;n===void 0&&(n=null),yield x(e,{intJid:o("MAWJids").convertChatJidToIntJid(r),threadKey:a},n)}),D.apply(this,arguments)}function x(e,t,n){return $.apply(this,arguments)}function $(){return $=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=t.intJid,a=t.threadKey;n===void 0&&(n=null),n!=null&&o("MAWThreadMappingQPL").addPoint("insert_mapping_row",n),yield e.mi_act_mapping_table.put({clientThreadPk:r,jid:r,serverThreadKey:a})}),$.apply(this,arguments)}function P(e,t){return m(e,t).then(function(e){var t=e.mappingState,n=e.threadKey;return t.miState===c.MISSING?null:n})}l.MiState=c,l.ActState=d,l.genThreadLoadingStateAndThreadKeyFromJid=m,l.genLoadingStateFromJid=_,l.genThreadLoadingState=g,l.getThreadLoadingStateForDbRows=y,l.isReady=C,l.isMiOptimistic=b,l.isMiReady=v,l.isActReady=S,l.getActState=R,l.getMiState=L,l.markActThreadLoadingAsInProgress=E,l.markActThreadLoadingAsCompletedForJid=T,l.markActThreadLoadingAsCompleted=x,l.getThreadKeyIfMiThreadNotMissing=P}),98);
__d("URLMatcherConfig",[],(function(t,n,r,o,a,i){a.exports={tlds:"(?:\\.(com|\uD55C\uAD6D|\uC0BC\uC131|\uB2F7\uCEF4|\uB2F7\uB137|\u9999\u6E2F|\u9999\u683C\u91CC\u62C9|\u9910\u5385|\u98DF\u54C1|\u98DE\u5229\u6D66|\u96FB\u8A0A\u76C8\u79D1|\u96C6\u56E2|\u901A\u8CA9|\u8D2D\u7269|\u8C37\u6B4C|\u8BFA\u57FA\u4E9A|\u8054\u901A|\u7F51\u7EDC|\u7F51\u7AD9|\u7F51\u5E97|\u7F51\u5740|\u7EC4\u7EC7\u673A\u6784|\u79FB\u52A8|\u73E0\u5B9D|\u70B9\u770B|\u6FB3\u9580|\u6E38\u620F|\u6DE1\u9A6C\u9521|\u673A\u6784|\u66F8\u7C4D|\u65F6\u5C1A|\u65B0\u95FB|\u65B0\u52A0\u5761|\u653F\u5E9C|\u653F\u52A1|\u624B\u8868|\u624B\u673A|\u6211\u7231\u4F60|\u6148\u5584|\u5FAE\u535A|\u5E7F\u4E1C|\u5DE5\u884C|\u5BB6\u96FB|\u5A31\u4E50|\u5929\u4E3B\u6559|\u5927\u62FF|\u5927\u4F17\u6C7D\u8F66|\u5728\u7EBF|\u5609\u91CC\u5927\u9152\u5E97|\u5609\u91CC|\u5546\u6807|\u5546\u5E97|\u5546\u57CE|\u53F0\u7063|\u53F0\u6E7E|\u516C\u76CA|\u516C\u53F8|\u516B\u5366|\u5065\u5EB7|\u4FE1\u606F|\u4F5B\u5C71|\u4F01\u4E1A|\u4E2D\u6587\u7F51|\u4E2D\u570B|\u4E2D\u56FD|\u4E2D\u4FE1|\u4E16\u754C|\u30DD\u30A4\u30F3\u30C8|\u30D5\u30A1\u30C3\u30B7\u30E7\u30F3|\u30BB\u30FC\u30EB|\u30B9\u30C8\u30A2|\u30B3\u30E0|\u30B0\u30FC\u30B0\u30EB|\u30AF\u30E9\u30A6\u30C9|\u307F\u3093\u306A|\u10D2\u10D4|\u0E44\u0E17\u0E22|\u0E04\u0E2D\u0E21|\u0DBD\u0D82\u0D9A\u0DCF|\u0D2D\u0D3E\u0D30\u0D24\u0D02|\u0CAD\u0CBE\u0CB0\u0CA4|\u0C2D\u0C3E\u0C30\u0C24\u0C4D|\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD|\u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8|\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE|\u0B2D\u0B3E\u0B30\u0B24|\u0AAD\u0ABE\u0AB0\u0AA4|\u0A2D\u0A3E\u0A30\u0A24|\u09AD\u09BE\u09F0\u09A4|\u09AD\u09BE\u09B0\u09A4|\u09AC\u09BE\u0982\u09B2\u09BE|\u0938\u0902\u0917\u0920\u0928|\u092D\u093E\u0930\u094B\u0924|\u092D\u093E\u0930\u0924\u092E\u094D|\u092D\u093E\u0930\u0924|\u0928\u0947\u091F|\u0915\u0949\u092E|\u0680\u0627\u0631\u062A|\u067E\u0627\u06A9\u0633\u062A\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064A\u0644\u064A|\u0645\u0644\u064A\u0633\u064A\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062B\u0648\u0644\u064A\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064A\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064A\u0629|\u0633\u0648\u062F\u0627\u0646|\u062A\u0648\u0646\u0633|\u0628\u06BE\u0627\u0631\u062A|\u0628\u064A\u062A\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062A|\u0627\u06CC\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062A|\u0627\u0644\u0645\u063A\u0631\u0628|\u0627\u0644\u0639\u0644\u064A\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629|\u0627\u0644\u062C\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062F\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062A\u0635\u0627\u0644\u0627\u062A|\u0627\u0628\u0648\u0638\u0628\u064A|\u05E7\u05D5\u05DD|\u0570\u0561\u0575|\u049B\u0430\u0437|\u0443\u043A\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043E\u0440\u0433|\u043E\u043D\u043B\u0430\u0439\u043D|\u043C\u043E\u0441\u043A\u0432\u0430|\u043C\u043E\u043D|\u043C\u043A\u0434|\u043A\u043E\u043C|\u043A\u0430\u0442\u043E\u043B\u0438\u043A|\u0435\u044E|\u0434\u0435\u0442\u0438|\u0431\u0435\u043B|\u0431\u0433|\u03B5\u03BB|zw|zuerich|zone|zm|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qxa6a|xn--qcka1pmc|xn--q9jyb4c|xn--q7ce6a|xn--pssy2u|xn--pgbs0dh|xn--p1ai|xn--p1acf|xn--otu796d|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbcpq6gpa1a|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbah1a3hjkrd|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq480n2rg|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cckwcxetd|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--4dbrk0ce|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|wanggou|wang|walter|walmart|wales|vu|voyage|voto|voting|vote|volvo|vodka|vn|vlaanderen|vivo|viva|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|sydney|sy|sx|swiss|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statefarm|statebank|star|staples|stada|st|ss|srl|sr|spot|sport|space|spa|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|show|shouji|shopping|shop|shoes|shiksha|shia|shell|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|services|sener|select|seek|security|secure|seat|search|se|sd|scot|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sc|sbs|sbi|sb|saxo|save|sas|sarl|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|ro|rip|rio|ril|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|radio|racing|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|party|parts|partners|pars|paris|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|online|onl|ong|one|omega|om|ollo|olayangroup|olayan|okinawa|office|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|name|nagoya|nab|na|mz|my|mx|mw|mv|music|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movie|mov|motorcycles|moto|moscow|mortgage|mormon|monster|money|monash|mom|moi|moe|moda|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|merckmsd|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|ma|ly|lv|luxury|luxe|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|locus|locker|loans|loan|llp|llc|lk|living|live|lipsy|link|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancaster|lamer|lamborghini|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kim|kids|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jio|jewelry|jetzt|jeep|je|jcb|java|jaguar|itv|itau|it|istanbul|ist|ismaili|is|irish|ir|iq|ipiranga|io|investments|intuit|international|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hot|hosting|host|hospital|horse|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujitsu|ftr|frontier|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|events|eus|eurovision|eu|et|estate|esq|es|erni|ericsson|er|equipment|epson|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|dunlop|dubai|dtv|drive|download|dot|domains|dog|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrome|christmas|chintai|cheap|chat|chase|charity|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|cd|cc|cbre|cbn|cba|catholic|catering|cat|casino|cash|case|casa|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|amazon|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|al|akdn|airtel|airforce|airbus|aig|ai|agency|agakhan|ag|africa|afl|af|aetna|aero|aeg|ae|adult|ads|ad|actor|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|aarp|aaa))"}}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(t,n,r,o,a,i){var e="!\"#%&'()*,-./:;<>?@[\\]^_`{|}",l="\u2000-\u206F\xAB\xBB\uFF08\uFF09",s="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",u="(?:https?)://",c="(?:(^|\\s)(?:"+s+"[.]){3}"+s+")",d=c,m="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",p="(?:\\b)www\\d{0,3}[.]",_="[^\\s"+e+l+"]",f="(?:(?:(?:[.:\\-_%@]|"+_+")*"+_+")|"+m+")",g="(?::\\d+){0,1}",h="(?=[/?#])",y=n("URLMatcherConfig").tlds,C="(?:(?:"+u+f+g+")|(?:"+d+g+")|(?:"+m+g+")|(?:"+p+f+y+g+")|(?:"+f+y+g+h+"))",b="(?:(?:"+u+f+g+")|(?:"+d+g+")|(?:"+m+g+")|(?:"+p+f+y+g+")|(?:"+f+y+g+"))",v="[/#?]",S="\\([^\\s()<>]+\\)",R="[^\\s()<>?#]+",L=new RegExp(C,"im"),E="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",k=new RegExp(E,"im"),I="(?:(?:"+v+")(?:(?:"+S+"|"+R+")*)*)*",T=new RegExp("((?:"+b+")(?:"+I+"))","im");function D(){T.compile()}var x=new RegExp("((?:"+u+f+g+")|(?:"+p+f+y+g+"))"),$=/[\s\'\";]/,P=new RegExp(v,"im"),N=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xAB\xBB\u2000-\u206F\uFF08\uFF09]","im"),M=new RegExp("[\\s()<>?#]","im"),w=new RegExp("\\s()<>"),A=function(t){return t!=null&&t.indexOf("@")!==-1?x.exec(t)?t:null:t},F=function(t){return new RegExp("((?:"+C+")(?:"+I+"))",t)};function O(){return T.source}var B=function(t){return U(t,F("im"))},W=function(t){return V(t,F("igm"))},q=function(t){return U(t,T)},U=function(t,n){var e=n.exec(t);return e==null||e.length===0?null:A(e[1]||null)},V=function(t,n){var e=t.match(n);return e==null?[]:e.filter(Boolean)||[]},H=function(t){return L.exec(t)},G=function(t){return!$.test(t.charAt(t.length-1))},z=function(t){var e=t,n=!1;do{var r,o=L.exec(e);if(!o)return null;if(((r=o[1])==null?void 0:r.trim())===""&&(o[0]=o[0].trim(),o.index+=o[1].length),n=!1,o[0][0]==="["&&o.index>0&&e[o.index-1]==="@"){var a=k.exec(o[0]);a&&(n=!0,e=e.substr(o.index+a[0].length))}}while(n);if(!o)return null;var i=e.substr(o.index+o[0].length);if(i.length===0||!P.test(i[0]))return A(o[0]);for(var l=0,s=0,u=1,c=["(","["],d=[")","]"],m=0,p=s,_=1;_<i.length;_++){var f=i[_];if(p===s){if(c.includes(f))m+=1,p=u;else if(P.test(f)||!N.test(f))l=_;else if(M.test(f))break}else if(c.includes(f))m+=1;else if(d.includes(f))m-=1,m===0&&(p=s,l=_);else if(w.test(f))break}return A(o[0]+i.substring(0,l+1))},j={compilePermissiveHostPathMatcher:D,permissiveHostPathMatch:q,permissiveMatch:B,permissiveMultiMatch:W,matchToPattern:U,multiMatchToPattern:V,matchHost:H,trigger:G,match:z,getPermissiveHostPathMatcherSource:O};a.exports=j}),null);
__d("MAWThreadMappingQPL",["I64","JSResourceForInteraction","LSIntEnum","MAWLoggerUtils","MAWMiActMappingTableAPI","MAWQplProxy","MAWThreadLoadingState","QPLUserFlow","Random","ReQL","WAJids","asyncToGeneratorRuntime","promiseDone","qpl","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=["instanceKey","s2sInstanceKey"],s=["instanceKey","s2sInstanceKey"],u,c,d=new Map,m=new Set;function p(e){m.add(e)}function _(e,t){return m.has(t)?o("MAWThreadLoadingState").isActReady(e)&&o("MAWThreadLoadingState").isMiOptimistic(e):!1}var f=r("JSResourceForInteraction")("MAWWaitForBackendSetup").__setRef("MAWThreadMappingQPL"),g=r("qpl")._(1056836502,"2778"),h=r("qpl")._(25313175,"1551"),y=null;function C(e){return o("MAWLoggerUtils").getInstanceKeyFromId(e)}function b(e){return o("MAWLoggerUtils").getInstanceKeyFromId((u||(u=o("I64"))).to_string(e)+o("Random").random().toString())}function v(e,t,n){var r,a=d.get((u||(u=o("I64"))).to_string(e.jid));if(a!=null)return L("continue_thread_mapping_after_tpq",a),n!=null&&k({bool:babelHelpers.extends({},n)},a),d.delete((u||(u=o("I64"))).to_string(e.jid)),a;var i=(r=e.instanceKey)!=null?r:b(e.fbid),l=n!=null?n:{},s=l.hasMappingRowAlready,c=l.hasPlaceholderRowInserted,m=l.isExistingRowPlaceholder,p=l.isExpectedThreadMissingInLsdb,_=e.jid;return S({hasMappingRowAlready:s,hasPlaceholderRowInserted:c,instanceKey:i,isExistingRowPlaceholder:m,isExpectedThreadMissingInLsdb:p,jid:e.isGroupThread?o("WAJids").toGroupJid((u||(u=o("I64"))).to_string(_)):o("WAJids").toMsgrUserJid((u||(u=o("I64"))).to_string(_)),threadKey:e.fbid,trigger:t}),i}function S(t){var n=t.instanceKey,a=t.s2sInstanceKey,i=babelHelpers.objectWithoutPropertiesLoose(t,e);y=a,o("sendToSentQPLLogger").markSendToSentPoint(a,"thread_mapping_start",void 0,{string:{thread_state:t.threadState}}),r("QPLUserFlow").start(g,{annotations:F(i),instanceKey:n}),r("promiseDone")(f.load(),function(e){var t=e.runAfterBackendSetup;t(function(){return L("maw_backend_available",n)},"bulkMaybeCreateOrUpdateThread")})}function R(e){var t=e.instanceKey,n=e.s2sInstanceKey,r=babelHelpers.objectWithoutPropertiesLoose(e,s);o("MAWQplProxy").startQplUserFlow(g,F(r),{providedInstanceKey:t})}function L(e,t){r("QPLUserFlow").addPoint(g,e,{instanceKey:t}),y!=null&&r("QPLUserFlow").addPoint(h,"thread_mapping_"+e,{instanceKey:y})}function E(e,t){L("handle_existing_thread_fail",e);var n=t==null?"no_thread":"not_authoritative",r=t==null?void 0:(c||(c=o("LSIntEnum"))).toNumber(t.authorityLevel);k({int:{insufficientAuthorityLevel:r},string:{handleExistingThreadFailReason:n}},e)}function k(e,t){r("QPLUserFlow").addAnnotations(g,e,{instanceKey:t})}var I=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var o=e+"_start",a=e+"_end";r("QPLUserFlow").addPoint(g,o,{instanceKey:t});var i=yield n();return r("QPLUserFlow").addPoint(g,a,{instanceKey:t}),i});return function(n,r,o){return e.apply(this,arguments)}})(),T=function(t,n,r){return n==null?r():I(t,n,r)};function D(e,t){k({bool:{isResultVerified:!0},string:{finalActState:t.actState.toString(),finalMiState:t.miState.toString()}},e),o("sendToSentQPLLogger").markSendToSentPoint(y,"thread_mapping_end"),o("MAWThreadLoadingState").isReady(t)||_(t,e)?r("QPLUserFlow").endSuccess(g,{instanceKey:e}):P("thread_state_not_ready",e)}function x(e){return $.apply(this,arguments)}function $(){return $=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.instanceKey,r=e.intJid,a=e.tables,i=e.threadKey;if(i==null&&r==null){P("no_thread_key_nor_jid",n);return}var l=yield O(a,{intJid:r,threadKey:i}),s=(t=l==null?void 0:l.serverThreadKey)!=null?t:i,u=s==null?null:yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.threads).getKeyRange(s));D(n,yield o("MAWThreadLoadingState").getThreadLoadingStateForDbRows(u,l))}),$.apply(this,arguments)}function P(e,t){o("sendToSentQPLLogger").markSendToSentPoint(y,"thread_mapping_fail",void 0,{string:{threadMappingFailReason:e}}),r("QPLUserFlow").endFailure(g,e,{instanceKey:t})}function N(e,t){o("sendToSentQPLLogger").markSendToSentPoint(y,"thread_mapping_fail",void 0,{string:{threadMappingFailReason:e.message}}),r("QPLUserFlow").endFailure(g,"error_thrown",{annotations:{string:{errorMessage:e.message}},instanceKey:t})}function M(e,t,n){o("MAWQplProxy").sendQPLFailThroughBridge(g,e,n,t)}function w(e,t){L(e,t),r("QPLUserFlow").endCancel(g,{instanceKey:t})}function A(e,t){o("MAWQplProxy").sendQPLCancelThroughBridge(g,void 0,{string:{cancelInWorkerReason:e}},t)}function F(e){var t=e.hasMappingRowAlready,n=e.hasPlaceholderRowInserted,r=e.isExistingRowPlaceholder,a=e.isExpectedThreadMissingInLsdb,i=e.jid,l=e.threadKey,s=e.threadState,c=e.trigger;return{bool:{hasMappingRowAlready:t,hasPlaceholderRowInserted:n,isExistingRowPlaceholder:r,isExpectedThreadMissingInLsdb:a},string:{initJid:i,initThreadKey:l==null?null:(u||(u=o("I64"))).to_string(l),initThreadState:s==null?void 0:s.toString(),trigger:c}}}function O(e,t){return B.apply(this,arguments)}function B(){return B=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.intJid,r=t.threadKey,a=yield o("MAWMiActMappingTableAPI").getMappingRowForThreadKey(e,r);return a!=null?a:o("MAWMiActMappingTableAPI").getMappingRowForIntJid(e,n)}),B.apply(this,arguments)}l.pendingThreadCreationOnServer=d,l.allowToSkipUpgradingOptimisticThreadInMI=p,l.getInstanceKeyForJidInWorker=C,l.getInstanceKeyForThreadKey=b,l.startOrContinueForMiActMappingParams=v,l.start=S,l.startInWorker=R,l.addPoint=L,l.handleExistingThreadFail=E,l.addAnnotations=k,l.measurePerformance=I,l.measurePerformanceForNullableInstanceKey=T,l.endForThreadState=D,l.end=x,l.endFailure=P,l.endFailureError=N,l.endFailureInWorker=M,l.endCancel=w,l.endCancelInWorker=A}),98);
__d("MNLSXMALayoutType",[],(function(t,n,r,o,a,i){var e=Object.freeze({SINGLE:0,HSCROLL:1,XCENTER:2,PORTRAIT:4,LAYERED:5,PLACEHOLDER:6,EXPIRED_PLACEHOLDER:7,PILE_PROMPT:8,STACK:9,SHARED_STACK:10,STACK_CARD:11,STANDARD_DXMA:12,DXMA_PLACEHOLDER:13,THREAD_SHORTCUT:14,LIST_DXMA:15,GRID:16,BLOKS_XMA:17,TWO_CARD:18,NOTE:19,VSTACK:20,SQUIRCLE:21,REPLY:22,RICH_RESPONSE:23,CODE:24,TABLE:25,SQUIRCLE_SHARED_STACK:26,UNIFIED_RESPONSE:27,CARD:28,CONDENSED_LINK:29,DOODLE_SPACE:30});i.default=e}),66);
__d("MNXMAPreviewImageDecorationType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12,BLUR:13,PILL:14,MESSENGER_CHANNEL_IMAGE:15,TROPHY:16,DXMA_LIVE:17,DXMA_LIVE_ENDED:18,LIKE_BUBBLE_REPLY:19,LIKE_BUBBLES:20,REPOST:21,FUBS_EXCLUSIVE_CONTENT_TEASER:22});i.default=e}),66);
__d("MessagingAttachmentType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14,THIRD_PARTY_STICKER:15});i.default=e}),66);
__d("OfflineThreadingId",["I64","XPlatReactCrypto"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("I64"))).of_string("4194303");function u(){return(e||(e=o("I64"))).to_string(c())}function c(){var t=o("XPlatReactCrypto").getRandomValues(new Uint8Array(8)),n=new DataView(t.buffer),r=(e||(e=o("I64"))).add(e.lsl_(e.of_int32(n.getUint32(0)),32),e.of_int32(n.getUint32(4)));return d(Date.now(),r)}function d(t,n){return(e||(e=o("I64"))).and_(e.or_(e.lsl_(e.of_float(t),22),e.and_(n,s)),e.max_int)}function m(t){for(var n=c(),r=[],a=0;a<t.length;a++)r.push([t[a],(e||(e=o("I64"))).to_string(n)]),n=p(n);return r}function p(t,n){n===void 0&&(n=(e||(e=o("I64"))).one);var r=_(t),a=f(t);return d(r,(e||(e=o("I64"))).add(a,n))}function _(t){return(e||(e=o("I64"))).to_float(e.lsr_(t,22))}function f(t){return(e||(e=o("I64"))).and_(t,s)}l.createOfflineThreadingID=u,l.createForItemsInOrder=m,l.createNewFromExisting=p,l.extractTimestamp=_}),98);
__d("WACustomError",[],(function(t,n,r,o,a,i){"use strict";var e=Object.create(Error.prototype,{constructor:{value:void 0,writable:!0,configurable:!0}});function l(t,n,r){n===void 0&&(n=!0);function o(e){var r=Error.call(this,e);this.message=e,r.name=t,this.name=t,n&&(this.stack=r.stack)}return o.prototype=Object.create(r?r.prototype:e),o.prototype.constructor=o,o}function s(e){return e.length===0?"No errors":e.length===1?e[0].message:e.map(function(e){return"- "+e.message}).join("\n")}var u=(function(e){function t(t,n){var r,o=n!=null&&n.length>0?n:s(t);return r=e.call(this,o)||this,r.errors=t,r}return babelHelpers.inheritsLoose(t,e),t})(l("AggregateError",!0)),c=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(l("TimeoutError",!1)),d=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.code=n,r}return babelHelpers.inheritsLoose(t,e),t})(l("HttpError",!1)),m=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(l("UnimplementedMethod")),p=!1;function _(e){if(e==null||e.name!=="QuotaExceededError")throw e;p=!0}function f(){return p}function g(e){return JSON.stringify(e,Object.getOwnPropertyNames(e))}var h=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.inner=n,r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.customError=l,i.AggregateError=u,i.TimeoutError=c,i.HttpError=d,i.UnimplementedMethod=m,i.supressQuotaExceededError=_,i.hasSupressedQuotaExceededError=f,i.obtainErrorSummary=g,i.WrappedError=h}),66);
__d("WAAbortError",["WACustomError"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(o("WACustomError").customError("AbortError")),s="AbortError";function u(e){return function(t){if(t.name===s)return e(t);throw t}}l.AbortError=e,l.ABORT_ERROR=s,l.catchAbort=u}),98);
__d("WAGetPlatformFromStanzaId",["WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){try{if(t.startsWith("3EB0"))return"web";var n=31,r=BigInt(n<<17),a=BigInt(0),i=BigInt(1<<17),l=BigInt(t)&r;return l===a?"web":l===i?"mobile":"unknown"}catch(n){return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id "," for platform: ",""])),t,n),"error"}}l.getPlatformFromStanzaId=s}),98);
__d("WALongInt",["WAHex","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){if(typeof t!="number")throw o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"])),t).color("red"),new Error("numberOrThrowIfTooLarge is given a non-safe integer");return t}var d=function(t){return t==null?t:c(t)};function m(e){return e==null||typeof e!="number"?null:e}function p(e,t){if(typeof e=="number"&&typeof t=="number")return e>t;var n=typeof e=="number"?o("WAHex").hexLongFromNumber(e):e,r=typeof t=="number"?o("WAHex").hexLongFromNumber(t):t;return o("WAHex").isBiggerHexLong(n,r)}function _(e){if(typeof e=="number")return e.toString(10);for(var t=o("WAHex").hexLongToHex(e),n=[0],r=0,a=0;a<t.length;a++){r=o("WAHex").hexAt(t,a);for(var i=0;i<n.length;i++)n[i]=n[i]*16+r,r=n[i]/10|0,n[i]%=10;for(;r>0;)n.push(r%10),r=r/10|0}var l=n.reverse().join("");return o("WAHex").hexLongIsNegative(e)?"-"+l:l}function f(e){if(!/^-?\d+$/.test(e))throw o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string'])),e).color("red"),new Error("decimalStringToLongInt is given an invalid decimal string");var t=e[0]==="-",n=e.replace(/^-?0*/,""),r=n.length;if(r<16||r===16&&n<="9007199254740991")return t?-Number(n):Number(n);if(r>20||r===20&&n>"18446744073709551615"||t&&(r>19||r===19&&n>"9223372036854775807"))throw o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits'])),e).color("red"),new Error("decimalStringToHexLong is given value over 64 bits");for(var a=0,i=0,l=0;l<r;l++)a=a*10+Number(n[l]),i=i*10+Math.floor(a/4294967296),a=a%4294967296;return o("WAHex").createHexLongFrom32Bits(i,a,t)}l.numberOrThrowIfTooLarge=c,l.maybeNumberOrThrowIfTooLarge=d,l.maybeNumber=m,l.isBiggerLongInt=p,l.longIntToDecimalString=_,l.decimalStringToLongInt=f}),98);
__d("WAPromiseDelays",["Promise","WAAbortError"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r){return new(e||(e=n("Promise")))(function(e,n){if(r!=null&&r.aborted)throw new(o("WAAbortError")).AbortError;var a=setTimeout(i,t);r==null||r.addEventListener("abort",l);function i(){r==null||r.removeEventListener("abort",l),e()}function l(){r==null||r.removeEventListener("abort",l),clearTimeout(a),n(new(o("WAAbortError")).AbortError)}})}function u(t,r,o){return new(e||(e=n("Promise")))(function(e,n){var a=setTimeout(function(){try{e(o())}catch(e){n(e)}},r);t.then(function(t){clearTimeout(a),e(t)},function(e){clearTimeout(a),n(e)})})}l.delayMs=s,l.withTimeout=u}),98);
__d("WARetryableError",["WACustomError"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,"see error at this.source")||this,n.source=t,n}return babelHelpers.inheritsLoose(t,e),t})(o("WACustomError").customError("RetryableError"));l.default=e}),98);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){throw r("err")("RelayEnvironment is already set")}function s(){return r("CometRelayEnvironment")}l.setRelayEnvironment=e,l.getRelayEnvironment=s}),98);
__d("first",[],(function(t,n,r,o,a,i){"use strict";function e(e){for(var t of e)return t;return null}i.default=e}),66);
__d("getMWLSRegion",["MessengerWebRegion"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("MessengerWebRegion").regionNullable;return e==null?"":e}l.default=e}),98);